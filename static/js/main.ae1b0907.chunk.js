(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,r,t){e.exports=t(18)},,,,,,function(e,r,t){},function(e,r,t){},function(e,r,t){},function(e,r,t){},function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),o=t(6),u=t.n(o),i=(t(14),t(7)),c=t(1),l=(t(15),t(16),0);function s(e){var r=e.history,t=e.sendCommand,n=a.a.useState(""),o=Object(c.a)(n,2),u=o[0],i=o[1],s=a.a.useRef(),f=a.a.useRef();function p(e){t(u),i(""),setTimeout(function(){return"undefined"!==typeof s.current&&(s.current.scrollTop=s.current.scrollHeight)},10),l=0}function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.filter(function(e){return"input"===e.type});e&&l>1?l--:!e&&l<t.length&&l++,i(t[t.length-l].content)}return a.a.createElement("div",{className:"Console",onClick:function(){return f.current&&document.getSelection().isCollapsed&&f.current.focus()}},a.a.createElement("div",{className:"Console-historyscroller",ref:s},a.a.createElement("ul",{className:"Console-history"},r.map(function(e){return"input"===e.type?a.a.createElement("li",{key:e.id,className:"line line-input"},"> ",e.content):a.a.createElement("li",{key:e.id,className:"line line-".concat(e.type)},e.content)}))),a.a.createElement("div",{className:"Console-inputline"},a.a.createElement("span",{className:"Console-prompt"},">"),a.a.createElement("input",{value:u,className:"Console-input",autoFocus:!0,ref:f,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){"Enter"===e.key?p():"ArrowUp"===e.key?(m(),e.preventDefault()):"ArrowDown"===e.key&&(m(!0),e.preventDefault())}}),a.a.createElement("button",{onClick:p},"Send")))}var f=t(4),p=t(2),m=t(3);t(17);function v(e){var r=function(e,r){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===typeof r?r:String(r)}function d(e){var r=e.variables,t=e.setVariables,n=a.a.useState(""),o=Object(c.a)(n,2),u=o[0],i=o[1],l=a.a.useState(""),s=Object(c.a)(l,2),d=s[0],y=s[1],h=a.a.useRef();return a.a.createElement("form",{onSubmit:function(e){var n;try{n=JSON.parse(d)}catch(e){n=d}t(Object(m.a)({},r,Object(p.a)({},u,n))),i(""),y(""),"undefined"!==typeof h&&"undefined"!==typeof h.current&&h.current.focus(),e.preventDefault()}},a.a.createElement("table",{className:"Variables"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Value"))),a.a.createElement("tbody",null,Object.keys(r).map(function(e){return a.a.createElement("tr",{key:e},a.a.createElement("td",null,e),a.a.createElement("td",null,JSON.stringify(r[e])),a.a.createElement("td",null,a.a.createElement("button",{type:"button",onClick:function(){return t(function(e,r){e[r];return Object(f.a)(e,[r].map(v))}(r,e))}},"x")))}),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("input",{ref:h,value:u,onChange:function(e){return i(e.target.value)},placeholder:"Name"})),a.a.createElement("td",null,a.a.createElement("input",{value:d,onChange:function(e){return y(e.target.value)},placeholder:"Value"})),a.a.createElement("td",null,a.a.createElement("button",{type:"submit"},"+"))))))}function y(e){return a.a.createElement("div",null)}function h(e,r){if("number"===typeof r||"string"===typeof r)return r;var t="name"===r.type?e[r.value]:r.value;if("undefined"===typeof t)throw Error("symbol not found: "+r.value);return t}function g(e,r){if("number"===typeof r)return!0;if(Array.isArray(r)||"object"!==typeof r)return!1;if("number"!==r.type&&"name"!==r.type)return!1;var t="name"===r.type?e[r.value]:r.value;if("undefined"===typeof t)throw Error("Symbol not found: "+r.value);return"number"===typeof t}function b(e,r){if(Array.isArray(r))return!0;if("object"!==typeof r)return!1;if("name"!==r.type)return!1;var t=e[r.value];if("undefined"===typeof t)throw Error("Symbol not found: "+r.value);return!!Array.isArray(t)}function E(e,r){if("number"===typeof r)return r;if(Array.isArray(r))throw Error("Invalid numeric value: [Array(".concat(r.length,")]"));if("object"!==typeof r)throw Error("Invalid numeric value: [".concat(r,"]"));if("number"!==r.type&&"name"!==r.type)throw Error("Invalid numeric value: [".concat(r.value,"]"));var t="name"===r.type?e[r.value]:r.value;if("undefined"===typeof t)throw Error("Symbol not found: "+r.value);if("number"!==typeof t)throw Error("Variable '".concat(r.value,"' does not contain a numeric value"));return t}function w(e,r){if(Array.isArray(r))return r;if("name"!==r.type)throw Error("Invalid vector value: [".concat(r.value,"]"));var t=e[r.value];if("undefined"===typeof t)throw Error("Symbol not found: "+r.value);if(!Array.isArray(t))throw Error("Variable '".concat(r.value,"' does not contain a vector value"));return t}function k(e,r,t,n){if(g(e,r)&&g(e,n))return function(e,r,t,n){var a=E(e,r),o=E(e,n);switch(t){case"+":return a+o;case"-":return a-o;case"*":return a*o;case"/":return a/o;case"^":return Math.pow(a,o);case"==":return a==o;case"!=":return a!=o;case"<":return a<o;case">":return a>o;case"<=":return a<=o;case">=":return a>=o;case"&&":return Boolean(a&&o);case"||":return Boolean(a||o);case"&":throw Error("Use && to compare numbers");case"|":throw Error("Use || to compare numbers")}throw Error("Unrecognised operator: "+t)}(e,r,t,n);if(b(e,r)&&b(e,n))return function(e,r,t,n){var a=w(e,r),o=w(e,n);if(a.length!=o.length)throw Error("Vector lengths do not match: ".concat(a.length," and ").concat(o.length));switch(t){case"+":return a.map(function(e,r){return e+o[r]});case"-":return a.map(function(e,r){return e-o[r]});case"*":return a.map(function(e,r){return e*o[r]});case"/":return a.map(function(e,r){return e/o[r]});case"^":return a.map(function(e,r){return Math.pow(e,o[r])});case"==":return a.map(function(e,r){return e==o[r]});case"!=":return a.map(function(e,r){return e!=o[r]});case"<":return a.map(function(e,r){return e<o[r]});case">":return a.map(function(e,r){return e>o[r]});case"<=":return a.map(function(e,r){return e<=o[r]});case">=":return a.map(function(e,r){return e>=o[r]});case"&":return a.map(function(e,r){return Boolean(e&&o[r])});case"|":return a.map(function(e,r){return Boolean(e||o[r])});case"&&":return a.every(function(e,r){return e&&o[r]});case"||":return a.every(function(e,r){return e||o[r]})}throw Error("Unrecognised operator: "+t)}(e,r,t,n);if(b(e,r)&&g(e,n))return S(e,r,t,n);if(g(e,r)&&b(e,n))return S(e,n,t=function(e){return">"===e?"<":"<"===e?">":">="===e?"<=":"<="===e?">=":e}(t),r);throw Error("Invalid expression")}function S(e,r,t,n){var a=w(e,r),o=E(e,n);switch(t){case"+":return a.map(function(e){return e+o});case"-":return a.map(function(e){return e-o});case"*":return a.map(function(e){return e*o});case"/":return a.map(function(e){return e/o});case"^":return a.map(function(e){return Math.pow(e,o)});case"==":return a.map(function(e){return e==o});case"!=":return a.map(function(e){return e!=o});case"<":return a.map(function(e){return e<o});case">":return a.map(function(e){return e>o});case"<=":return a.map(function(e){return e<=o});case">=":return a.map(function(e){return e>=o});case"&":return a.map(function(e){return Boolean(e&&o)});case"|":return a.map(function(e){return Boolean(e||o)});case"&&":return a.every(function(e){return e&&o});case"||":return a.every(function(e){return e||o})}throw Error("Unrecognised operator: "+t)}var A={string:{match:/^"([^"]*)"/,map:function(e){return e[1]}},number:{match:/^-?[0-9]+(?:\.[0-9]+)?/,map:function(e){return+e[0]}},name:{match:/^[a-z][a-z0-9_.]*/i},operator:{match:/^(<-|->|==|!=|<=|>=|&&|\|\||[-+*\/<>&|^])/},bracket:{match:/^[()]/},index_bracket:{match:/^[[\]]/},range:{match:/^:/},whitespace:{match:/^\s+/,ignore:!0}};function N(e){var r=function(e,r){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===typeof r?r:String(r)}function j(e,r,t){if(0!==e.length){var n=function(e){for(var r=0,t=[];r<e.length;){var n=e.substr(r),a=void 0;for(var o in A){var u=o,i=A[u];if(a=i.match.exec(n)){i.ignore||t.push({type:u,value:i.map?i.map(a):a[0]}),r+=a[0].length;break}}if(!a)throw Error("Unrecognised Input: "+n.substr(0,10))}return t}(e);if(1===n.length){if("name"===n[0].type){if(n[0].value in r)return r[n[0].value];throw Error("symbol not found: "+n[0].value)}if("number"===n[0].type||"string"===n[0].type)return n[0].value;throw Error("Invalid expression")}if(3===n.length){var a=n[0],o=n[1],u=n[2];if(g(r,a)&&"range"===o.type&&g(r,u))return O(E(r,a),E(r,u));if("operator"!==o.type)throw Error("Expression not supported");var i=x(o.value);return"<-"===o.value&&"name"===a.type?void C(r,t,a.value,h(r,u)):"->"===o.value&&"name"===u.type?void C(r,t,u.value,h(r,a)):k(r,a,i,u)}if(4===n.length){var c=n[0],l=n[1],s=n[2],p=n[3];if("name"===c.type&&"bracket"===l.type&&"name"===s.type&&"bracket"===p.type)switch(c.value){case"rm":return void function(e,r,t){e[t];var n=Object(f.a)(e,[t].map(N));r(n)}(r,t,s.value)}if("name"===c.type&&"index_bracket"===l.type&&"index_bracket"===p.type){var m=w(r,c),v=E(r,s);if(v<1||v>=m.length)throw Error("Index out of range: ".concat(v,"/").concat(m.length));return m[v-1|0]}}if(5===n.length){var d=n[0],y=n[1],S=n[2],j=n[3],I=n[4];if(g(r,d)&&"range"===y.type&&g(r,S)&&"range"===j.type&&g(r,I))return O(E(r,d),E(r,S),E(r,I));if("operator"!==y.type||"operator"!==j.type)throw Error("Expression not supported");var B=x(y.value),R=x(j.value);if("<-"===B&&"<-"!==R&&"->"!==R&&"name"===d.type){var U=k(r,S,R,I);return void C(r,t,d.value,U)}if("->"===R&&"<-"!==B&&"->"!==B&&"name"===I.type){var V=k(r,d,B,S);return void C(r,t,I.value,V)}var J=k(r,d,B,S);if("boolean"===typeof J)throw Error("Bad expression");return k(r,J,R,I)}if(6===n.length){var W=n[0],_=n[1],P=n[2],T=n[3],D=n[4],M=n[5];if("name"===W.type&&b(r,W)&&"index_bracket"===_.type&&g(r,P)&&"range"===T.type&&g(r,D)&&"index_bracket"===M.type)return w(r,W).slice(E(r,P)-1,E(r,D))}throw Error("Command not recognised: '".concat(e,"'"))}}function C(e,r,t,n){r(Object(m.a)({},e,Object(p.a)({},t,n)))}function O(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array(Math.floor((r-e)/t)+1).fill(0).map(function(r,n){return n*t+e})}function x(e){return e}var I="R_VARIABLES";var B=function(){var e=a.a.useState([]),r=Object(c.a)(e,2),t=r[0],n=r[1],o=a.a.useState(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var t=localStorage.getItem(e);return t?JSON.parse(t):r}catch(n){return r}}(I)),u=Object(c.a)(o,2),l=u[0],f=u[1];function p(e){var r,t;f(e),r=I,t=e,localStorage.setItem(r,JSON.stringify(t))}return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App-Variables"},a.a.createElement(d,{variables:l,setVariables:p})),a.a.createElement("div",{className:"App-Console"},a.a.createElement(s,{history:t,sendCommand:function(e){var r=[].concat(Object(i.a)(t),[{id:t.length+1,type:"input",content:e}]);try{var a=JSON.stringify(j(e,l,p));"undefined"!==typeof a&&r.push({id:t.length+2,type:"output",content:a})}catch(o){r.push({id:t.length+2,type:"error",content:o.message})}n(r)}})),a.a.createElement("div",{className:"App-Graph"},a.a.createElement(y,null)))},R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,r){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),r&&r.onUpdate&&r.onUpdate(e)):(console.log("Content is cached for offline use."),r&&r.onSuccess&&r.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}u.a.render(a.a.createElement(B,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/R",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var r="".concat("/R","/service-worker.js");R?(function(e,r){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):U(e,r)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(r,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):U(r,e)})}}()}],[[8,1,2]]]);
//# sourceMappingURL=main.ae1b0907.chunk.js.map