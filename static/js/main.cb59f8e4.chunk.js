(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports=r(18)},,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),u=r(6),o=r.n(u),c=(r(14),r(7)),i=r(1),l=(r(15),r(16),0);function f(e){var t=e.history,r=e.sendCommand,n=a.a.useState(""),u=Object(i.a)(n,2),o=u[0],c=u[1],f=a.a.useRef(),s=a.a.useRef();function m(e){r(o),c(""),setTimeout(function(){return"undefined"!==typeof f.current&&(f.current.scrollTop=f.current.scrollHeight)},10),l=0}function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.filter(function(e){return"input"===e.type});e&&l>1?l--:!e&&l<r.length&&l++,c(r[r.length-l].content)}return a.a.createElement("div",{className:"Console",onClick:function(){return s.current&&document.getSelection().isCollapsed&&s.current.focus()}},a.a.createElement("div",{className:"Console-historyscroller",ref:f},a.a.createElement("ul",{className:"Console-history"},t.map(function(e){return"input"===e.type?a.a.createElement("li",{key:e.id,className:"line line-input"},"> ",e.content):a.a.createElement("li",{key:e.id,className:"line line-".concat(e.type)},e.content)}))),a.a.createElement("div",{className:"Console-inputline"},a.a.createElement("span",{className:"Console-prompt"},">"),a.a.createElement("input",{value:o,className:"Console-input",autoFocus:!0,ref:s,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){"Enter"===e.key?m():"ArrowUp"===e.key?(p(),e.preventDefault()):"ArrowDown"===e.key&&(p(!0),e.preventDefault())}}),a.a.createElement("button",{onClick:m},"Send")))}var s=r(4),m=r(2),p=r(3);r(17);function v(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function y(e){var t=e.variables,r=e.setVariables,n=a.a.useState(""),u=Object(i.a)(n,2),o=u[0],c=u[1],l=a.a.useState(""),f=Object(i.a)(l,2),y=f[0],d=f[1],h=a.a.useRef();return a.a.createElement("form",{onSubmit:function(e){var n;try{n=JSON.parse(y)}catch(e){n=y}r(Object(p.a)({},t,Object(m.a)({},o,n))),c(""),d(""),"undefined"!==typeof h&&"undefined"!==typeof h.current&&h.current.focus(),e.preventDefault()}},a.a.createElement("table",{className:"Variables"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Value"))),a.a.createElement("tbody",null,Object.keys(t).map(function(e){return a.a.createElement("tr",{key:e},a.a.createElement("td",null,e),a.a.createElement("td",null,JSON.stringify(t[e])),a.a.createElement("td",null,a.a.createElement("button",{type:"button",onClick:function(){return r(function(e,t){e[t];return Object(s.a)(e,[t].map(v))}(t,e))}},"x")))}),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("input",{ref:h,value:o,onChange:function(e){return c(e.target.value)},placeholder:"Name"})),a.a.createElement("td",null,a.a.createElement("input",{value:y,onChange:function(e){return d(e.target.value)},placeholder:"Value"})),a.a.createElement("td",null,a.a.createElement("button",{type:"submit"},"+"))))))}function d(e){return a.a.createElement("div",null)}function h(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function g(e,t,r){if(0!==e.length){var n=function(e){var t=0,r=[];for(;t<e.length;){var n=e.substr(t),a=void 0;for(var u in E){var o=E[u];if(a=o.match.exec(n)){o.ignore||r.push({type:u,value:o.map?o.map(a):a[0]}),t+=a[0].length;break}}if(!a)throw Error("Unrecognised Input: "+n.substr(0,10))}return r}(e);if(1===n.length){if("name"===n[0].type){if(n[0].value in t)return JSON.stringify(t[n[0].value]);throw Error("symbol not found: "+n[0].value)}if("number"===n[0].type||"string"===n[0].type)return JSON.stringify(n[0].value);throw Error("Invalid expression")}if(3===n.length){var a=n[0],u=n[1],o=n[2];if(w(t,a)&&"range"===u.type&&w(t,o))return JSON.stringify(A(N(t,a),N(t,o)));if("operator"!==u.type)throw Error("Expression not supported");return"<-"===u.value&&"name"===a.type?void k(t,r,a.value,b(t,o)):"->"===u.value&&"name"===o.type?void k(t,r,o.value,b(t,a)):JSON.stringify(j(t,a,u.value,o))}if(4===n.length){var c=n[0],i=n[1],l=n[2],f=n[3];if("name"===c.type&&"bracket"===i.type&&"name"===l.type&&"bracket"===f.type)switch(c.value){case"rm":return void function(e,t,r){e[r];var n=Object(s.a)(e,[r].map(h));t(n)}(t,r,l.value)}if("name"===c.type&&"index_bracket"===i.type&&"index_bracket"===f.type){var m=O(t,c),p=N(t,l);if(p<1||p>=m.length)throw Error("Index out of range: ".concat(p,"/").concat(m.length));return JSON.stringify(m[p-1|0])}}if(5===n.length){var v=n[0],y=n[1],d=n[2],g=n[3],S=n[4];if(w(t,v)&&"range"===y.type&&w(t,d)&&"range"===g.type&&w(t,S))return JSON.stringify(A(N(t,v),N(t,d),N(t,S)));if("operator"!==y.type||"operator"!==g.type)throw Error("Expression not supported");if("<-"===y.value&&"<-"!==g.value&&"->"!==g.value&&"name"===v.type){var C=j(t,d,g.value,S);return void k(t,r,v.value,C)}if("->"===g.value&&"<-"!==y.value&&"->"!==y.value&&"name"===S.type){var x=j(t,v,y.value,d);return void k(t,r,S.value,x)}var J=j(t,v,y.value,d);return JSON.stringify(j(t,J,g.value,S))}throw Error("Command not recognised: '".concat(e,"'"))}}var E={string:{match:/^"([^"]*)"/,map:function(e){return e[1]}},number:{match:/^-?[0-9]+(?:\.[0-9]+)?/,map:function(e){return+e[0]}},name:{match:/^[a-z][a-z0-9_.]*/i},operator:{match:/^(<-|->|==|!=|<=|>=|&&|\|\||[-+*\/<>&|])/},bracket:{match:/^[()]/},index_bracket:{match:/^[[\]]/},range:{match:/^:/},whitespace:{match:/^\s+/,ignore:!0}};function b(e,t){if("number"===typeof t||"string"===typeof t)return t;var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("symbol not found: "+t.value);return r}function w(e,t){if("number"===typeof t)return!0;if("number"!==t.type&&"name"!==t.type)return!1;var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);return"number"===typeof r}function S(e,t){if(Array.isArray(t))return!0;if("name"!==t.type)return!1;var r=e[t.value];if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);return!!Array.isArray(r)}function N(e,t){if("number"===typeof t)return t;if("number"!==t.type&&"name"!==t.type)throw Error("Invalid numeric value: [".concat(t.value,"]"));var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);if("number"!==typeof r)throw Error("Variable '".concat(t.value,"' does not contain a numeric value"));return r}function O(e,t){if(Array.isArray(t))return t;if("name"!==t.type)throw Error("Invalid vector value: [".concat(t.value,"]"));var r=e[t.value];if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);if(!Array.isArray(r))throw Error("Variable '".concat(t.value,"' does not contain a vector value"));return r}function k(e,t,r,n){t(Object(p.a)({},e,Object(m.a)({},r,n)))}function j(e,t,r,n){if(w(e,t)&&w(e,n))return function(e,t,r,n){var a=N(e,t),u=N(e,n);switch(r){case"+":return a+u;case"-":return a-u;case"*":return a*u;case"/":return a/u;case"==":return a==u;case"!=":return a!=u;case"<":return a<u;case">":return a>u;case"<=":return a<=u;case">=":return a>=u;case"&&":return Boolean(a&&u);case"||":return Boolean(a||u);case"&":throw Error("Use && to compare numbers");case"|":throw Error("Use || to compare numbers")}throw Error("Unrecognised operator: "+r)}(e,t,r,n);if(S(e,t)&&S(e,n))return function(e,t,r,n){var a=O(e,t),u=O(e,n);if(a.length!=u.length)throw Error("Vector lengths do not match: ".concat(a.length," and ").concat(u.length));switch(r){case"+":return a.map(function(e,t){return e+u[t]});case"-":return a.map(function(e,t){return e-u[t]});case"*":return a.map(function(e,t){return e*u[t]});case"/":return a.map(function(e,t){return e/u[t]});case"==":return a.map(function(e,t){return e==u[t]});case"!=":return a.map(function(e,t){return e!=u[t]});case"<":return a.map(function(e,t){return e<u[t]});case">":return a.map(function(e,t){return e>u[t]});case"<=":return a.map(function(e,t){return e<=u[t]});case">=":return a.map(function(e,t){return e>=u[t]});case"&":return a.map(function(e,t){return Boolean(e&&u[t])});case"|":return a.map(function(e,t){return Boolean(e||u[t])});case"&&":return a.every(function(e,t){return e&&u[t]});case"||":return a.every(function(e,t){return e||u[t]})}throw Error("Unrecognised operator: "+r)}(e,t,r,n);if(S(e,t)&&w(e,n))return C(e,t,r,n);if(w(e,t)&&S(e,n))return">"===r?r="<":">"===r?r="<":">="===r?r="<=":"<="===r&&(r=">="),C(e,n,r,t);throw Error("Invalid expression")}function C(e,t,r,n){var a=O(e,t),u=N(e,n);switch(r){case"+":return a.map(function(e){return e+u});case"-":return a.map(function(e){return e-u});case"*":return a.map(function(e){return e*u});case"/":return a.map(function(e){return e/u});case"==":return a.map(function(e){return e==u});case"!=":return a.map(function(e){return e!=u});case"<":return a.map(function(e){return e<u});case">":return a.map(function(e){return e>u});case"<=":return a.map(function(e){return e<=u});case">=":return a.map(function(e){return e>=u});case"&":return a.map(function(e){return Boolean(e&&u)});case"|":return a.map(function(e){return Boolean(e||u)});case"&&":return a.every(function(e){return e&&u});case"||":return a.every(function(e){return e||u})}throw Error("Unrecognised operator: "+r)}function A(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array(Math.floor((t-e)/r)+1).fill(0).map(function(t,n){return n*r+e})}var x="R_VARIABLES";var J=function(){var e=a.a.useState([]),t=Object(i.a)(e,2),r=t[0],n=t[1],u=a.a.useState(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(n){return t}}(x)),o=Object(i.a)(u,2),l=o[0],s=o[1];function m(e){var t,r;s(e),t=x,r=e,localStorage.setItem(t,JSON.stringify(r))}return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"panel"},a.a.createElement("div",{style:{flex:4}},a.a.createElement(f,{history:r,sendCommand:function(e){var t=[].concat(Object(c.a)(r),[{id:r.length+1,type:"input",content:e}]);try{var a=g(e,l,m);"undefined"!==typeof a&&t.push({id:r.length+2,type:"output",content:a})}catch(u){t.push({id:r.length+2,type:"error",content:u.message})}n(t)}})),a.a.createElement("div",{className:"panel panel-vertical"},a.a.createElement("div",{style:{padding:2}},a.a.createElement(y,{variables:l,setVariables:m})),a.a.createElement("div",{style:{flex:1}},a.a.createElement(d,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.cb59f8e4.chunk.js.map