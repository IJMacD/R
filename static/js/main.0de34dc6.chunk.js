(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(17)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),l=n.n(o),u=(n(13),n(6)),c=n(1),i=(n(14),n(15),0);function s(e){var t=e.history,n=e.sendCommand,r=a.a.useState(""),o=Object(c.a)(r,2),l=o[0],u=o[1],s=a.a.useRef();function m(e){n(l),u(""),setTimeout(function(){return s.current.scrollTop=s.current.scrollHeight},10),i=0}function v(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.filter(function(e){return"input"===e.type});e&&i>1?i--:!e&&i<n.length&&i++,u(n[n.length-i].content)}return a.a.createElement("div",{className:"Console"},a.a.createElement("div",{className:"Console-historyscroller",ref:s},a.a.createElement("ul",{className:"Console-history"},t.map(function(e){return"input"===e.type?a.a.createElement("li",{key:e.id,className:"line line-input"},"> ",e.content):a.a.createElement("li",{key:e.id,className:"line line-".concat(e.type)},e.content)}))),a.a.createElement("div",{className:"Console-inputline"},a.a.createElement("span",{className:"Console-prompt"},">"),a.a.createElement("input",{value:l,className:"Console-input",autoFocus:!0,onChange:function(e){return u(e.target.value)},onKeyDown:function(e){"Enter"===e.key?m():"ArrowUp"===e.key?(v(),e.preventDefault()):"ArrowDown"===e.key&&(v(!0),e.preventDefault())}}),a.a.createElement("button",{onClick:m},"Send")))}n(16);function m(e){var t=e.variables;return a.a.createElement("table",{className:"Variables"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Value"))),a.a.createElement("tbody",null,Object.keys(t).map(function(e){return a.a.createElement("tr",{key:e},a.a.createElement("td",null,e),a.a.createElement("td",null,JSON.stringify(t[e])))})))}function v(e){return a.a.createElement("div",null)}var p=n(2),f=n(5);function h(e,t,n){if(0!==e.length){var r=function(e){var t=0,n=[];for(;t<e.length;){var r=e.substr(t);for(var a in y){var o=y[a],l=o.match.exec(r);if(l){n.push({type:a,value:o.map?o.map(l):l[0]}),t+=l[0].length;break}}if(t<e.length){r=e.substr(t);var u=/^\s*/.exec(r);if(u){t+=u[0].length;continue}throw Error("Unrecognised Input: "+r.substr(0,10))}}return n}(e);if(1===r.length){if("name"===r[0].type){if(r[0].value in t)return JSON.stringify(t[r[0].value]);throw Error("symbol not found: "+r[0].value)}if("number"===r[0].type||"string"===r[0].type)return JSON.stringify(r[0].value);throw Error("Invalid expression")}if(3===r.length){var a=r[0],o=r[1],l=r[2];if("operator"!==o.type)throw Error("Expression not supported");return"<-"===o.value&&"name"===a.type?g(t,n,a.value,d(t,l)):"->"===o.value&&"name"===l.type?g(t,n,l.value,d(t,a)):b(t,a,o.value,l)}if(5===r.length){var u=r[0],c=r[1],i=r[2],s=r[3],m=r[4];if("operator"!==c.type||"operator"!==s.type)throw Error("Expression not supported");if("<-"===c.value&&"<-"!==s.value&&"->"!==s.value&&"name"===u.type){var v=b(t,i,s.value,m);return g(t,n,u.value,v)}if("->"===s.value&&"<-"!==c.value&&"->"!==c.value&&"name"===m.type){var p=b(t,u,c.value,i);return g(t,n,m.value,p)}var f=b(t,u,c.value,i);return b(t,f,s.value,m)}throw Error("Command not recognised: '".concat(e,"'"))}}var y={string:{match:/^"([^"]*)"/,map:function(e){return e[1]}},number:{match:/^-?[0-9]+(?:\.[0-9]+)?/,map:function(e){return+e[0]}},name:{match:/^[a-z][a-z0-9_]*/},operator:{match:/^(<-|->|\+|-|\*|\/)/}};function d(e,t){if("number"===typeof t||"string"===typeof t)return t;var n="name"===t.type?e[t.value]:t.value;if("undefined"===typeof n)throw Error("symbol not found: "+t.value);return n}function E(e,t){if("number"===typeof t)return t;if("number"!==t.type&&"name"!==t.type)throw Error("Invalid numeric value: [".concat(t.value,"]"));var n="name"===t.type?e[t.value]:t.value;if("undefined"===typeof n)throw Error("symbol not found: "+t.value);if("number"!==typeof n)throw Error("Variable '".concat(t.value,"' does not contain a numeric value"));return n}function g(e,t,n,r){t(Object(f.a)({},e,Object(p.a)({},n,r)))}function b(e,t,n,r){var a=E(e,t),o=E(e,r);switch(n){case"+":return a+o;case"-":return a-o;case"*":return a*o;case"/":return a/o}throw Error("Unrecognised operator: "+n)}var w="R_VARIABLES";var N=function(){var e=a.a.useState([]),t=Object(c.a)(e,2),n=t[0],r=t[1],o=a.a.useState(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return t}}(w)),l=Object(c.a)(o,2),i=l[0],p=l[1];return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"panel"},a.a.createElement("div",{style:{flex:4}},a.a.createElement(s,{history:n,sendCommand:function(e){var t=[].concat(Object(u.a)(n),[{id:n.length+1,type:"input",content:e}]);try{var a=h(e,i,function(e){var t,n;p(e),t=w,n=e,localStorage.setItem(t,JSON.stringify(n))});a&&t.push({id:n.length+2,type:"output",content:a})}catch(o){t.push({id:n.length+2,type:"error",content:o.message})}r(t)}})),a.a.createElement("div",{className:"panel panel-vertical"},a.a.createElement(m,{variables:i}),a.a.createElement(v,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[7,1,2]]]);
//# sourceMappingURL=main.0de34dc6.chunk.js.map