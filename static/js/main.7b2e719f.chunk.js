(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();r.__esModule=!0;var a=function(e){function r(t,n){var a=new e(t*n)||this;return a.__proto__=r.prototype,a.cols=t,a.rows=n,a.fill(0),a}return n(r,e),r.prototype.getValue=function(e,r){return this[e*this.rows+r]},r.prototype.setValue=function(e,r,t){this[e*this.rows+r]=t},r.prototype.add=function(e){if(e.length!==this.length)throw RangeError("Lengths must be the same "+this.length+" vs. "+e.length);for(var r=0;r<this.length;r++)this[r]+=e[r]},r.prototype.toString=function(){for(var e="",r=0;r<this.rows;r++){for(var t=0;t<this.cols;t++){e+=this[t*this.rows+r]+" "}e+="\n"}return e},r}(Float64Array);r.default=a;var o=function(e){function r(r){var t=this;return"number"===typeof r?t=e.call(this,1,r)||this:(t=e.call(this,1,r.length)||this).set(r),t}return n(r,e),r.prototype.getValue=function(e){return this[e]},r.prototype.setValue=function(e,r){this[e]=r},r.prototype.toString=function(){return this.join("\n")},r}(a);r.Vector=o,r.identity=function(e){for(var r=new a(e,e),t=0;t<e;t++)r.setValue(t,t,1);return r},r.cross=function(e,r){if(e.cols!==r.rows)throw RangeError("Matrix size mismatch. Cols("+e.cols+") must match Rows("+r.rows+")");for(var t=r.cols,n=e.rows,o=e.cols,i=new a(t,n),u=0;u<t;u++)for(var c=0;c<n;c++)for(var l=u*n+c,s=0;s<o;s++)i[l]+=e[s*n+c]*r[u*o+s];return i}},,,,,,function(e,r,t){var n=t(21),a=t(5),o=t(23);function i(e){var r=function(e,r){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===typeof r?r:String(r)}var u=t(24),c=u.evaluateExpression,l=u.evaluateVector,s=u.evaluateNumeric,f=u.isNumeric,v=u.isVector,p=u.isString,h=u.evaluateString,m=t(25),y=(t(2).default,t(2).identity);function d(e,r,t,n){r(o({},e,a({},t,n)))}function g(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t=(e>r?-1:1)*Math.abs(t),Array(Math.floor((r-e)/t)+1).fill(0).map(function(r,n){return n*t+e})}function w(e){return e}function b(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("operator"!==e.type)return!1;var t="<-"===e.value||"\u2190"===e.value?"left":("->"===e.value||"\u2192"===e.value)&&"right";return t&&(!r||r===t)}e.exports=function(e,r,t){if("undefined"===typeof e||!e||0===e.trim().length)return;var a=m(e);return function e(r,t,a){if(1===a.length){if("name"===a[0].type){if(a[0].value in r)return r[a[0].value];throw Error("symbol not found: "+a[0].value)}if("number"===a[0].type||"string"===a[0].type)return a[0].value;throw Error("Invalid expression")}if(a.length>=3){var o=a[0],u=a[1];if("name"===o.type&&b(u,"left"))return void d(r,t,o.value,e(r,t,a.slice(2)));var m=a.length,E=a[m-1],S=a[m-2];if(b(S,"right")&&"name"===E.type)return void d(r,t,E.value,e(r,t,a.slice(0,m-2)))}if(3===a.length){var A=a[0],k=a[1],x=a[2];if(f(r,A)&&"range"===k.type&&f(r,x))return g(s(r,A),s(r,x));if("operator"!==k.type)throw Error("Expression not supported");var N=w(k.value);if(p(r,A)&&"+"===k.value&&p(r,x))return"".concat(h(r,A)).concat(h(r,x));if(p(r,A)&&("*"===k.value||"\xd7"===k.value)&&f(r,x))return h(r,A).repeat(s(r,x));if(f(r,A)&&("*"===k.value||"\xd7"===k.value)&&p(r,x))return h(r,x).repeat(s(r,A));if(p(r,A)&&("/"===k.value||"\xf7"===k.value)&&f(r,x)){var j=h(r,A);return j.substr(0,Math.floor(j.length/s(r,x)))}if(p(r,A)&&"+"===k.value&&f(r,x)){var V=h(r,A),_=V.length+s(r,x);return V.repeat(Math.ceil(_/V.length)).substr(0,_)}if(p(r,A)&&"-"===k.value&&f(r,x)){var O=h(r,A),C=O.length-s(r,x);return O.substr(0,C)}return c(r,A,N,x)}if(4===a.length){var I=a[0],R=a[1],M=a[2],U=a[3];if("name"===I.type&&"bracket"===R.type&&"bracket"===U.type)switch(I.value){case"rm":if("name"!==M.type)throw Error("Argument to `rm` must be a name");return void function(e,r,t){e[t];var a=n(e,[t].map(i));r(a)}(r,t,M.value);case"identity":var B=s(r,M);return y(B)}if("name"===I.type&&"index_bracket"===R.type&&"index_bracket"===U.type){var P=l(r,I),J=s(r,M);if(J<1||J>=P.length)throw Error("Index out of range: ".concat(J,"/").concat(P.length));return P[J-1|0]}}if(5===a.length){var W=a[0],T=a[1],D=a[2],z=a[3],L=a[4];if(f(r,W)&&"range"===T.type&&f(r,D)&&"range"===z.type&&f(r,L))return g(s(r,W),s(r,L),s(r,D));if("operator"!==T.type||"operator"!==z.type)throw Error("Expression not supported");var F=w(T.value),G=w(z.value),H=c(r,W,F,D);if("boolean"===typeof H)throw Error("Bad expression");return c(r,H,G,L)}if(6===a.length){var K=a[0],$=a[1],q=a[2],Q=a[3],X=a[4],Y=a[5];if("name"===K.type&&v(r,K)&&"index_bracket"===$.type&&f(r,q)&&"range"===Q.type&&f(r,X)&&"index_bracket"===Y.type){var Z=l(r,K),ee=s(r,q),re=s(r,X);return ee<re?Z.slice(ee-1,re):Z.slice(re-1,ee).reverse()}}throw Error("Unable to evaluate")}(r,t,a)}},,,function(e,r,t){e.exports=t(26)},,,,,,function(e,r,t){},function(e,r,t){},function(e,r,t){},function(e,r,t){},,,,function(e,r,t){var n=t(2).default;function a(e,r){if("number"===typeof r)return r;if(Array.isArray(r))throw Error("Invalid numeric value: [Array(".concat(r.length,")]"));if("object"!==typeof r)throw Error("Invalid numeric value: [".concat(r,"]"));if("number"!==r.type&&"name"!==r.type)throw Error("Invalid numeric value: [".concat(r.value,"]"));var t="name"===r.type?e[r.value]:r.value;if("undefined"===typeof t)throw Error("Symbol not found: "+r.value);if("number"!==typeof t)throw Error("Variable '".concat(r.value,"' does not contain a numeric value"));return t}function o(e,r){if(Array.isArray(r))return r;if("name"!==r.type)throw Error("Invalid vector value: [".concat(r.value,"]"));var t=e[r.value];if("undefined"===typeof t)throw Error("Symbol not found: "+r.value);if(!Array.isArray(t))throw Error("Variable '".concat(r.value,"' does not contain a vector value"));return t}function i(e,r){if(r instanceof n)return r;if("object"!==typeof r||"name"!==r.type)throw Error("Invalid matrix value: [".concat(r.value,"]"));var t=e[r.value];if("undefined"===typeof t)throw Error("Symbol not found: "+r.value);if(!(t instanceof n))throw Error("Variable '".concat(r.value,"' does not contain a vector value"));return t}function u(e,r,t,n){var i=o(e,r),u=a(e,n);switch(t){case"&&":return i.every(function(e){return e&&u});case"||":return i.every(function(e){return e||u});default:var c=v(t);if(c)return i.map(function(e){return c(e,u)});throw Error("Unrecognised operator: "+t)}}function c(e,r,t,o){var u=i(e,r),c=a(e,o);switch(t){case"&&":return u.every(function(e){return Boolean(e&&c)});case"||":return u.every(function(e){return Boolean(e||c)});default:var l=v(t);if(l){for(var s=new n(u.cols,u.rows),f=0;f<u.cols*u.rows;f++)s[f]=l(u[f],c);return s}throw Error("Unrecognised operator: "+t)}}function l(e,r){if("number"===typeof r)return!0;if(Array.isArray(r)||"object"!==typeof r)return!1;if("number"!==r.type&&"name"!==r.type)return!1;var t="name"===r.type?e[r.value]:r.value;return"undefined"!==typeof t&&"number"===typeof t}function s(e,r){if(Array.isArray(r))return!0;if("object"!==typeof r)return!1;if("name"!==r.type)return!1;var t=e[r.value];return"undefined"!==typeof t&&!!Array.isArray(t)}function f(e,r){if(r instanceof n)return!0;if("object"!==typeof r||"name"!==r.type)return!1;var t=e[r.value];return"undefined"!==typeof t&&t instanceof n}function v(e){switch(e){case"+":return function(e,r){return e+r};case"-":return function(e,r){return e-r};case"*":case"\xd7":return function(e,r){return e*r};case"/":case"\xf7":return function(e,r){return e/r};case"^":return function(e,r){return Math.pow(e,r)};case"==":return function(e,r){return e==r};case"!=":case"\u2260":return function(e,r){return e!=r};case"<":return function(e,r){return e<r};case">":return function(e,r){return e>r};case"<=":case"\u2264":case"\u2a7d":return function(e,r){return e<=r};case">=":case"\u2265":case"\u2a7e":return function(e,r){return e>=r};case"&":return function(e,r){return Boolean(e&&r)};case"|":return function(e,r){return Boolean(e||r)}}}function p(e){if(">"===e)return"<";if("<"===e)return">";if(">="===e)return"<=";if("<="===e)return">=";if("-"===e||"/"===e||"^"===e)throw Error("Operator ".concat(e," is not commutative"));return e}e.exports={evaluateExpression:function(e,r,t,h){if(l(e,r)&&l(e,h))return function(e,r,t,n){var o=a(e,r),i=a(e,n);switch(t){case"&&":return Boolean(o&&i);case"||":return Boolean(o||i);case"&":throw Error("Use && to compare numbers");case"|":throw Error("Use || to compare numbers");default:var u=v(t);if(u)return u(o,i);throw Error("Unrecognised operator: "+t)}}(e,r,t,h);if(s(e,r)&&s(e,h))return function(e,r,t,n){var a=o(e,r),i=o(e,n);if(a.length!=i.length)throw Error("Vector lengths do not match: ".concat(a.length," and ").concat(i.length));switch(t){case"&&":return a.every(function(e,r){return e&&i[r]});case"||":return a.every(function(e,r){return e||i[r]});default:var u=v(t);if(u)return a.map(function(e,r){return u(e,i[r])});throw Error("Unrecognised operator: "+t)}}(e,r,t,h);if(s(e,r)&&l(e,h))return u(e,r,t,h);if(l(e,r)&&s(e,h))return function(e,r,t,n){var i=a(e,r),c=o(e,n);switch(t){case"-":return c.map(function(e){return i-e});case"/":return c.map(function(e){return i/e});case"^":return c.map(function(e){return Math.pow(i,e)});default:return u(e,c,p(t),i)}}(e,r,t,h);if(f(e,r)&&l(e,h))return c(e,r,t,h);if(l(e,r)&&f(e,h))return function(e,r,t,o){var u=a(e,r),l=i(e,o);switch(t){case"-":for(var s=new n(l.cols,l.rows),f=0;f<l.cols*l.rows;f++)s[f]=u-l[f];return s;case"/":for(var v=new n(l.cols,l.rows),h=0;h<l.cols*l.rows;h++)v[h]=u/l[h];return v;case"^":for(var m=new n(l.cols,l.rows),y=0;y<l.cols*l.rows;y++)m[y]=Math.pow(u,l[y]);return m;default:return c(e,l,p(t),u)}}(e,r,t,h);if(f(e,r)&&s(e,h))return function(e,r,t,n){var a=i(e,r),u=o(e,n);if(a.cols!=u.length)throw Error("Matrix cols do not match Vector length: ".concat(a.length," and ").concat(u.length));if("*"!==t&&"\xd7"!=t)throw Error("Only Matrix-Vector multiplication is supported");for(var c=[],l=0;l<a.rows;l++){c[l]=0;for(var s=0;s<a.cols;s++)c[l]+=a.getValue(l,s)*u[s]}return c}(e,r,t,h);throw Error("Invalid expression")},evaluateNumeric:a,evaluateVector:o,evaluateString:function(e,r){if("string"===typeof r)return r;if(Array.isArray(r))throw Error("Invalid string value: [Array(".concat(r.length,")]"));if("object"!==typeof r)throw Error("Invalid string value: [".concat(r,"]"));if("string"!==r.type&&"name"!==r.type)throw Error("Invalid string value: [".concat(r.value,"]"));var t="name"===r.type?e[r.value]:r.value;if("undefined"===typeof t)throw Error("Symbol not found: "+r.value);if("string"!==typeof t)throw Error("Variable '".concat(r.value,"' does not contain a numeric value"));return t},evaluateMatrix:i,isNumeric:l,isVector:s,isString:function(e,r){if("string"===typeof r)return!0;if(Array.isArray(r)||"object"!==typeof r)return!1;if("string"!==r.type&&"name"!==r.type)return!1;var t="name"===r.type?e[r.value]:r.value;if("undefined"===typeof t)return!1;if("string"!==typeof t)return!1;return!0},isMatrix:f}},function(e,r){e.exports=function(e){var r=0,n=[];for(;r<e.length;){var a=e.substr(r),o=void 0;for(var i in t){var u=i,c=t[u];if(o=c.match.exec(a)){c.ignore||n.push({type:u,value:c.map?c.map(o):o[0]}),r+=o[0].length;break}}if(!o)throw Error("Unrecognised Input: "+a.trim().substr(0,10))}return n};var t={string:{match:/^"([^"]*)"/,map:function(e){return e[1]}},number:{match:/^-?[0-9]+(?:\.[0-9]+)?/,map:function(e){return+e[0]}},name:{match:/^[a-z][a-z0-9_.]*/i},operator:{match:/^(<-|->|==|!=|<=|>=|&&|\|\||[-+*\/<>&|^\xd7\xf7\u2190\u2192\u2260\u2264\u2265\u2a7d\u2a7e])/},bracket:{match:/^[()]/},index_bracket:{match:/^[[\]]/},range:{match:/^:/},whitespace:{match:/^\s+/,ignore:!0}}},function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),o=t(6),i=t.n(o),u=(t(17),t(9)),c=t(1),l=(t(18),t(19),0);function s(e){var r=e.history,t=e.sendCommand,n=e.performReplacement,o=a.a.useState(""),i=Object(c.a)(o,2),u=i[0],s=i[1],f=a.a.useRef(),v=a.a.useRef();function p(){t(u),s(""),setTimeout(function(){return"undefined"!==typeof f.current&&(f.current.scrollTop=f.current.scrollHeight)},10),l=0}function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.filter(function(e){return"input"===e.type});0!==t.length&&(e&&l>1?l--:!e&&l<t.length&&l++,s(t[t.length-l].content))}return a.a.createElement("div",{className:"Console",onClick:function(){return v.current&&document.getSelection().isCollapsed&&v.current.focus()}},a.a.createElement("div",{className:"Console-historyscroller",ref:f},a.a.createElement("ul",{className:"Console-history"},r.map(function(e){return"input"===e.type?a.a.createElement("li",{key:e.id,className:"line line-input"},e.content):a.a.createElement("li",{key:e.id,className:"line line-".concat(e.type)},e.content)}))),a.a.createElement("div",{className:"Console-inputline"},a.a.createElement("span",{className:"Console-prompt"},">"),a.a.createElement("input",{value:u,className:"Console-input",autoFocus:!0,autoCapitalize:"off",ref:v,onChange:function(e){var r=e.target.value;n&&(r=r.replace("*","\xd7").replace("/","\xf7").replace("!=","\u2260").replace("!=","\u2260").replace("<=","\u2a7d").replace(">=","\u2a7e").replace("->","\u2192").replace("<-","\u2190")),s(r)},onKeyDown:function(e){"Enter"===e.key?p():"ArrowUp"===e.key?(h(),e.preventDefault()):"ArrowDown"===e.key&&(h(!0),e.preventDefault())}}),a.a.createElement("button",{onClick:p},"Send")))}var f=t(10),v=t(3),p=t(7);t(20);function h(e){var r=function(e,r){if("object"!==typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===typeof r?r:String(r)}function m(e){var r=e.variables,t=e.setVariables,n=a.a.useState(""),o=Object(c.a)(n,2),i=o[0],u=o[1],l=a.a.useState(""),s=Object(c.a)(l,2),m=s[0],y=s[1],d=a.a.useRef();return a.a.createElement("form",{onSubmit:function(e){var n;try{n=JSON.parse(m)}catch(e){n=m}t(Object(p.a)({},r,Object(v.a)({},i,n))),u(""),y(""),"undefined"!==typeof d&&"undefined"!==typeof d.current&&d.current.focus(),e.preventDefault()}},a.a.createElement("table",{className:"Variables"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Value"))),a.a.createElement("tbody",null,Object.keys(r).map(function(e){return a.a.createElement("tr",{key:e},a.a.createElement("td",null,e),a.a.createElement("td",null,JSON.stringify(r[e])),a.a.createElement("td",null,a.a.createElement("button",{type:"button",onClick:function(){return t(function(e,r){e[r];return Object(f.a)(e,[r].map(h))}(r,e))}},"x")))}),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("input",{ref:d,value:i,onChange:function(e){return u(e.target.value)},placeholder:"Name"})),a.a.createElement("td",null,a.a.createElement("input",{value:m,onChange:function(e){return y(e.target.value)},placeholder:"Value"})),a.a.createElement("td",null,a.a.createElement("button",{type:"submit"},"+"))))))}function y(e){return a.a.createElement("div",null)}var d=t(8),g=t.n(d),w=t(2),b=t.n(w),E="R_VARIABLES";var S=function(){var e=a.a.useState([]),r=Object(c.a)(e,2),t=r[0],n=r[1],o=a.a.useState(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var t=localStorage.getItem(e);return t?JSON.parse(t):r}catch(n){return r}}(E)),i=Object(c.a)(o,2),l=i[0],f=i[1];function v(e){var r,t;f(e),r=E,t=e,localStorage.setItem(r,JSON.stringify(t))}return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App-Variables"},a.a.createElement(m,{variables:l,setVariables:v})),a.a.createElement("div",{className:"App-Console"},a.a.createElement(s,{history:t,sendCommand:function(e){var r,a=[].concat(Object(u.a)(t),[{id:t.length+1,type:"input",content:e}]);try{var o=(r=g()(e,l,v))instanceof b.a?r.toString().split("\n"):[JSON.stringify(r)],i=2,c=!0,s=!1,f=void 0;try{for(var p,h=o[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value;a.push({id:t.length+i++,type:"output",content:m})}}catch(y){s=!0,f=y}finally{try{c||null==h.return||h.return()}finally{if(s)throw f}}}catch(d){a.push({id:t.length+2,type:"error",content:d.message})}n(a)},performReplacement:!0})),a.a.createElement("div",{className:"App-Graph"},a.a.createElement(y,null)))},A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,r){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),r&&r.onUpdate&&r.onUpdate(e)):(console.log("Content is cached for offline use."),r&&r.onSuccess&&r.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(a.a.createElement(S,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/R",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var r="".concat("/R","/service-worker.js");A?(function(e,r){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,r)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(r,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):k(r,e)})}}()}],[[11,1,2]]]);
//# sourceMappingURL=main.7b2e719f.chunk.js.map