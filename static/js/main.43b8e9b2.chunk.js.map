{"version":3,"sources":["../../R-interpreter/matrix.js","../../R-interpreter/index.js","../../R-interpreter/evaluate.js","../../R-interpreter/tokenizer.js","Console.jsx","Variables.jsx","Graph.jsx","App.js","serviceWorker.js","index.js"],"names":["__extends","this","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","exports","__esModule","Matrix","_super","cols","rows","_this","fill","getValue","i","j","setValue","value","add","other","length","RangeError","toString","str","Float64Array","Vector","size","call","set","join","identity","m","cross","a","depth","out","index","ii","_objectWithoutProperties","__webpack_require__","_defineProperty","_objectSpread","_toPropertyKey","arg","key","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","String","Number","_toPrimitive","_require","evaluateExpression","evaluateVector","evaluateNumeric","isNumeric","isVector","isString","evaluateString","tokenizer","default","assignVariable","context","setContext","name","range","start","end","step","arguments","Math","floor","map","n","assertString","x","isAssignmentOp","t","dir","type","tDir","module","command","trim","tokens","interpretTokens","Error","t1","t2","slice","tn","tn_1","_t","_t2","t3","op","concat","repeat","s","substr","_s","newLength","ceil","_s2","_newLength","_t3","_t4","_t5","t4","rest","removeVariable","v","_t6","_t7","_t8","_t9","t5","op2","op4","val","_t10","_t11","_t12","_t13","_t14","t6","_v","reverse","isArray","token","evaluateMatrix","evaluateVectorScalarExpression","v1","v3","every","fn","getOperator","evaluateMatrixScalarExpression","Boolean","isMatrix","pow","flipOperator","evaluteScalarExpression","evaluateVectorExpression","n1","evaluateScalarVectorExpression","_out","_i","_out2","_i2","evaluateScalarMatrixExpression","evaluateMatrixVectorExpression","tail","match","GRAMMAR","g","exec","ignore","push","string","number","operator","bracket","index_bracket","whitespace","scrollback","Console","props","history","sendCommand","performReplacement","_React$useState","React","useState","_React$useState2","slicedToArray","setInput","ref","useRef","inputRef","handleSend","setTimeout","current","scrollTop","scrollHeight","handleScrollback","down","inputs","filter","h","content","react_default","createElement","className","onClick","document","getSelection","isCollapsed","focus","line","id","autoFocus","autoCapitalize","onChange","e","target","replace","onKeyDown","preventDefault","Variables","variables","setVariables","inputName","setInputName","_React$useState3","_React$useState4","inputValue","setInputValue","onSubmit","JSON","parse","objectSpread","defineProperty","keys","stringify","objectWithoutProperties","placeholder","STATE_KEY","App","setHistory","defaultState","localStorage","getItem","retrieveState","state","setItem","Variables_Variables","Console_Console","newHistory","toConsumableArray","output","interpreter","split","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","err","return","message","Graph_Variables","isLocalhost","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","src_App","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.43b8e9b2.chunk.js","sourcesContent":["\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nexports.__esModule = true;\n\nvar Matrix =\n/** @class */\nfunction (_super) {\n  __extends(Matrix, _super);\n\n  function Matrix(cols, rows) {\n    var _this = new _super(cols * rows) || this;\n\n    _this[\"__proto__\"] = Matrix.prototype;\n    _this.cols = cols;\n    _this.rows = rows;\n\n    _this.fill(0);\n\n    return _this;\n  }\n\n  Matrix.prototype.getValue = function (i, j) {\n    return this[i * this.rows + j];\n  };\n\n  Matrix.prototype.setValue = function (i, j, value) {\n    this[i * this.rows + j] = value;\n  };\n\n  Matrix.prototype.add = function (other) {\n    if (other.length !== this.length) {\n      throw RangeError(\"Lengths must be the same \" + this.length + \" vs. \" + other.length);\n    }\n\n    for (var i = 0; i < this.length; i++) {\n      this[i] += other[i];\n    }\n  };\n\n  Matrix.prototype.toString = function () {\n    var str = '';\n\n    for (var j = 0; j < this.rows; j++) {\n      for (var i = 0; i < this.cols; i++) {\n        var index = i * this.rows + j;\n        str += this[index] + ' ';\n      }\n\n      str += '\\n';\n    }\n\n    return str;\n  };\n\n  return Matrix;\n}(Float64Array);\n\nexports[\"default\"] = Matrix;\n\nvar Vector =\n/** @class */\nfunction (_super) {\n  __extends(Vector, _super);\n\n  function Vector(size) {\n    var _this = this;\n\n    if (typeof size === \"number\") {\n      _this = _super.call(this, 1, size) || this;\n    } else {\n      _this = _super.call(this, 1, size.length) || this;\n\n      _this.set(size);\n    }\n\n    return _this;\n  }\n\n  Vector.prototype.getValue = function (j) {\n    return this[j];\n  };\n\n  Vector.prototype.setValue = function (j, value) {\n    this[j] = value;\n  };\n\n  Vector.prototype.toString = function () {\n    return this.join('\\n');\n  };\n\n  return Vector;\n}(Matrix);\n\nexports.Vector = Vector;\n\nfunction identity(size) {\n  var m = new Matrix(size, size);\n\n  for (var i = 0; i < size; i++) {\n    m.setValue(i, i, 1);\n  }\n\n  return m;\n}\n\nexports.identity = identity;\n\nfunction cross(a, b) {\n  if (a.cols !== b.rows) {\n    throw RangeError(\"Matrix size mismatch. Cols(\" + a.cols + \") must match Rows(\" + b.rows + \")\");\n  }\n\n  var cols = b.cols;\n  var rows = a.rows;\n  var depth = a.cols;\n  var out = new Matrix(cols, rows);\n\n  for (var i = 0; i < cols; i++) {\n    for (var j = 0; j < rows; j++) {\n      var index = i * rows + j;\n\n      for (var ii = 0; ii < depth; ii++) {\n        out[index] += a[ii * rows + j] * b[i * depth + ii];\n      }\n    }\n  }\n\n  return out;\n}\n\nexports.cross = cross;","var _objectWithoutProperties = require(\"D:\\\\Code\\\\R\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/objectWithoutProperties\");\n\nvar _defineProperty = require(\"D:\\\\Code\\\\R\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/defineProperty\");\n\nvar _objectSpread = require(\"D:\\\\Code\\\\R\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/objectSpread\");\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n/** @typedef {{ [name: string]: any }} Context */\n\n/** @typedef {number[]} Vector */\n\n/** @typedef {number|string|boolean|number[]|string[]|boolean[]|Matrix} ValueType */\n\n/** @typedef {import('./tokenizer').Token} Token */\nvar _require = require('./evaluate'),\n    evaluateExpression = _require.evaluateExpression,\n    evaluateVector = _require.evaluateVector,\n    evaluateNumeric = _require.evaluateNumeric,\n    isNumeric = _require.isNumeric,\n    isVector = _require.isVector,\n    isString = _require.isString,\n    evaluateString = _require.evaluateString;\n\nvar tokenizer = require('./tokenizer');\n\nvar Matrix = require('./matrix').default;\n\nvar _require2 = require('./matrix'),\n    identity = _require2.identity;\n\nmodule.exports = interpreter;\n/**\r\n *\r\n * @param {string} command\r\n * @param {Context} context\r\n * @param {(context: Context) => void} setContext\r\n * @returns {ValueType|undefined}\r\n */\n\nfunction interpreter(command, context, setContext) {\n  if (typeof command === \"undefined\" || !command || command.trim().length === 0) {\n    return undefined;\n  }\n\n  var tokens = tokenizer(command);\n  return interpretTokens(context, setContext, tokens);\n}\n/**\r\n * @param {{ [x: string]: any; }} context\r\n * @param {import(\"../../Code/R-interpreter/tokenizer\").Token[]} tokens\r\n * @param {(context: { [name: string]: any; }) => void } setContext\r\n */\n\n\nfunction interpretTokens(context, setContext, tokens) {\n  if (tokens.length === 1) {\n    /*\r\n     * evaluate symbol\r\n     * e.g.  n\r\n     */\n    if (tokens[0].type === \"name\") {\n      if (tokens[0].value in context) {\n        return context[tokens[0].value];\n      } else {\n        throw Error(\"symbol not found: \" + tokens[0].value);\n      }\n    }\n    /*\r\n     * evaluate value\r\n     * e.g.  1\r\n     */\n\n\n    if (tokens[0].type === \"number\" || tokens[0].type === \"string\") {\n      return tokens[0].value;\n    }\n\n    throw Error(\"Invalid expression\");\n  }\n\n  if (tokens.length >= 3) {\n    var t1 = tokens[0];\n    var t2 = tokens[1];\n    /*\r\n     * evaluate assignment\r\n     * e.g.  a <- <expr>\r\n     */\n\n    if (t1.type === \"name\" && isAssignmentOp(t2, \"left\")) {\n      assignVariable(context, setContext, t1.value, interpretTokens(context, setContext, tokens.slice(2)));\n      return;\n    }\n\n    var n = tokens.length;\n    var tn = tokens[n - 1];\n    var tn_1 = tokens[n - 2];\n    /*\r\n     * evaluate assignment\r\n     * e.g.  2 -> b\r\n     * e.g.  a -> b\r\n     */\n\n    if (isAssignmentOp(tn_1, \"right\") && tn.type === \"name\") {\n      assignVariable(context, setContext, tn.value, interpretTokens(context, setContext, tokens.slice(0, n - 2)));\n      return;\n    }\n  }\n\n  if (tokens.length === 3) {\n    var _t = tokens[0];\n    var _t2 = tokens[1];\n    var t3 = tokens[2];\n    /*\r\n     * evaluate range\r\n     * e.g.  1:5\r\n     */\n\n    if (isNumeric(context, _t) && _t2.type === \"range\" && isNumeric(context, t3)) {\n      return range(evaluateNumeric(context, _t), evaluateNumeric(context, t3));\n    }\n\n    if (_t2.type !== \"operator\") {\n      throw Error(\"Expression not supported\");\n    }\n\n    var op = assertString(_t2.value);\n    /*\r\n     * evaluate string catenation\r\n     * e.g. \"a\" + \"b\"\r\n     */\n\n    if (isString(context, _t) && _t2.value === \"+\" && isString(context, t3)) {\n      return \"\".concat(evaluateString(context, _t)).concat(evaluateString(context, t3));\n    }\n    /*\r\n     * evaluate string repetition\r\n     * e.g. \"a\" * 3\r\n     */\n\n\n    if (isString(context, _t) && (_t2.value === \"*\" || _t2.value === \"×\") && isNumeric(context, t3)) {\n      return evaluateString(context, _t).repeat(evaluateNumeric(context, t3));\n    }\n    /*\r\n     * evaluate string repetition\r\n     * e.g. 4 * \"b\"\r\n     */\n\n\n    if (isNumeric(context, _t) && (_t2.value === \"*\" || _t2.value === \"×\") && isString(context, t3)) {\n      return evaluateString(context, t3).repeat(evaluateNumeric(context, _t));\n    }\n    /*\r\n     * evaluate string division\r\n     * e.g. \"ccccc\" / 5\r\n     */\n\n\n    if (isString(context, _t) && (_t2.value === \"/\" || _t2.value === \"÷\") && isNumeric(context, t3)) {\n      var s = evaluateString(context, _t);\n      return s.substr(0, Math.floor(s.length / evaluateNumeric(context, t3)));\n    }\n    /*\r\n     * evaluate string addition\r\n     * e.g. \"ccccc\" + 3\r\n     */\n\n\n    if (isString(context, _t) && _t2.value === \"+\" && isNumeric(context, t3)) {\n      var _s = evaluateString(context, _t);\n\n      var newLength = _s.length + evaluateNumeric(context, t3);\n      return _s.repeat(Math.ceil(newLength / _s.length)).substr(0, newLength);\n    }\n    /*\r\n     * evaluate string subtraction\r\n     * e.g. \"ccccc\" - 2\r\n     */\n\n\n    if (isString(context, _t) && _t2.value === \"-\" && isNumeric(context, t3)) {\n      var _s2 = evaluateString(context, _t);\n\n      var _newLength = _s2.length - evaluateNumeric(context, t3);\n\n      return _s2.substr(0, _newLength);\n    }\n    /*\r\n     * evaluate operation\r\n     * e.g.  1 + 3\r\n     * e.g.  1 - b\r\n     * e.g.  a / b\r\n     * e.g.  2 * 9\r\n     * e.g.  2 ^ 9\r\n     */\n\n\n    return evaluateExpression(context, _t, op, t3);\n  }\n\n  if (tokens.length === 4) {\n    var _t3 = tokens[0];\n    var _t4 = tokens[1];\n    var _t5 = tokens[2];\n    var t4 = tokens[3];\n    /*\r\n     * call function\r\n     * e.g.  rm(a)\r\n     */\n\n    if (_t3.type === \"name\" && _t4.type === \"bracket\" && t4.type === \"bracket\") {\n      switch (_t3.value) {\n        case \"rm\":\n          {\n            if (_t5.type !== \"name\") throw Error(\"Argument to `rm` must be a name\");\n            removeVariable(context, setContext, _t5.value);\n            return;\n          }\n\n        case \"identity\":\n          {\n            var d = evaluateNumeric(context, _t5);\n            return identity(d);\n          }\n      }\n    }\n    /*\r\n     * index into vector\r\n     * e.g.  aa[1]\r\n     * e.g.  aa[b]\r\n     */\n\n\n    if (_t3.type === \"name\" && _t4.type === \"index_bracket\" && t4.type === \"index_bracket\") {\n      var v = evaluateVector(context, _t3);\n      var i = evaluateNumeric(context, _t5);\n\n      if (i < 1 || i >= v.length) {\n        throw Error(\"Index out of range: \".concat(i, \"/\").concat(v.length));\n      }\n\n      return v[i - 1 | 0];\n    }\n  }\n\n  if (tokens.length === 5) {\n    var _t6 = tokens[0];\n    var _t7 = tokens[1];\n    var _t8 = tokens[2];\n    var _t9 = tokens[3];\n    var t5 = tokens[4];\n    /*\r\n     * evaluate range with step\r\n     * e.g.  1:10:2\r\n     */\n\n    if (isNumeric(context, _t6) && _t7.type === \"range\" && isNumeric(context, _t8) && _t9.type === \"range\" && isNumeric(context, t5)) {\n      return range(evaluateNumeric(context, _t6), evaluateNumeric(context, _t8), evaluateNumeric(context, t5));\n    }\n\n    if (_t7.type !== \"operator\" || _t9.type !== \"operator\") {\n      throw Error(\"Expression not supported\");\n    }\n\n    var op2 = assertString(_t7.value);\n    var op4 = assertString(_t9.value);\n    /*\r\n     * evaluation of double operation\r\n     * e.g.  10 + 1 - 5\r\n     * e.g.  a + 4 + 5\r\n     */\n\n    var val = evaluateExpression(context, _t6, op2, _t8);\n    if (typeof val === \"boolean\") throw Error(\"Bad expression\");\n    return evaluateExpression(context, val, op4, t5);\n  }\n\n  if (tokens.length === 6) {\n    var _t10 = tokens[0];\n    var _t11 = tokens[1];\n    var _t12 = tokens[2];\n    var _t13 = tokens[3];\n    var _t14 = tokens[4];\n    var t6 = tokens[5];\n    /*\r\n     * evaluation of range index\r\n     * e.g.  aa[2:4]\r\n     */\n\n    if (_t10.type === \"name\" && isVector(context, _t10) && _t11.type === \"index_bracket\" && isNumeric(context, _t12) && _t13.type === \"range\" && isNumeric(context, _t14) && t6.type === \"index_bracket\") {\n      var _v = evaluateVector(context, _t10);\n\n      var start = evaluateNumeric(context, _t12);\n      var end = evaluateNumeric(context, _t14);\n      return start < end ? _v.slice(start - 1, end) : _v.slice(end - 1, start).reverse();\n    }\n  }\n\n  throw Error(\"Unable to evaluate\");\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {(Context) => void} setContext\r\n * @param {string} name\r\n * @param {ValueType} value\r\n */\n\n\nfunction assignVariable(context, setContext, name, value) {\n  setContext(_objectSpread({}, context, _defineProperty({}, name, value)));\n}\n\nfunction removeVariable(context, setContext, name) {\n  var toRemove = context[name],\n      rest = _objectWithoutProperties(context, [name].map(_toPropertyKey));\n\n  setContext(rest);\n}\n/**\r\n * Range from `start` to `end` inclusive. With optional `step`\r\n * @param {number} start\r\n * @param {number} end\r\n * @param {number} step\r\n */\n\n\nfunction range(start, end) {\n  var step = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return Array(Math.floor((end - start) / step) + 1).fill(0).map(function (n, i) {\n    return i * step + start;\n  });\n}\n\nfunction assertString(x) {\n  if (process.env.NODE_ENV === \"production\") return x;\n\n  if (typeof x !== \"string\") {\n    throw Error(\"Assertion Error\");\n  }\n\n  return x;\n}\n/**\r\n *\r\n * @param {Token} t\r\n * @param {string} [dir]\r\n */\n\n\nfunction isAssignmentOp(t) {\n  var dir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  if (t.type !== \"operator\") return false;\n  var tDir = t.value === \"<-\" || t.value === \"←\" ? \"left\" : t.value === \"->\" || t.value === \"→\" ? \"right\" : false;\n  return tDir && (dir ? dir === tDir : true);\n}","var Matrix = require('./matrix').default;\n/** @typedef {import('./').Context} Context */\n\n/** @typedef {import('./').Vector} Vector */\n\n/** @typedef {import('./').ValueType} ValueType */\n\n/** @typedef {import('./tokenizer').Token} Token */\n\n\nmodule.exports = {\n  evaluateExpression: evaluateExpression,\n  evaluateNumeric: evaluateNumeric,\n  evaluateVector: evaluateVector,\n  evaluateString: evaluateString,\n  evaluateMatrix: evaluateMatrix,\n  isNumeric: isNumeric,\n  isVector: isVector,\n  isString: isString,\n  isMatrix: isMatrix\n};\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|ValueType} t1\r\n * @param {string} op\r\n * @param {Token|ValueType} t3\r\n */\n\nfunction evaluateExpression(context, t1, op, t3) {\n  if (isNumeric(context, t1) && isNumeric(context, t3)) {\n    return evaluteScalarExpression(context, t1, op, t3);\n  }\n\n  if (isVector(context, t1) && isVector(context, t3)) {\n    return evaluateVectorExpression(context, t1, op, t3);\n  }\n\n  if (isVector(context, t1) && isNumeric(context, t3)) {\n    return evaluateVectorScalarExpression(context, t1, op, t3);\n  }\n\n  if (isNumeric(context, t1) && isVector(context, t3)) {\n    return evaluateScalarVectorExpression(context, t1, op, t3);\n  }\n\n  if (isMatrix(context, t1) && isNumeric(context, t3)) {\n    return evaluateMatrixScalarExpression(context, t1, op, t3);\n  }\n\n  if (isNumeric(context, t1) && isMatrix(context, t3)) {\n    return evaluateScalarMatrixExpression(context, t1, op, t3);\n  }\n\n  if (isMatrix(context, t1) && isVector(context, t3)) {\n    return evaluateMatrixVectorExpression(context, t1, op, t3);\n  }\n\n  throw Error(\"Invalid expression\");\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|number} value\r\n */\n\n\nfunction evaluateNumeric(context, value) {\n  if (typeof value === \"number\") {\n    return value;\n  }\n\n  if (Array.isArray(value)) {\n    throw Error(\"Invalid numeric value: [Array(\".concat(value.length, \")]\"));\n  }\n\n  if (typeof value !== \"object\") {\n    throw Error(\"Invalid numeric value: [\".concat(value, \"]\"));\n  }\n\n  if (value.type !== \"number\" && value.type !== \"name\") {\n    throw Error(\"Invalid numeric value: [\".concat(value.value, \"]\"));\n  }\n\n  var v = value.type === \"name\" ? context[value.value] : value.value;\n\n  if (typeof v === \"undefined\") {\n    throw Error(\"Symbol not found: \" + value.value);\n  } else if (typeof v !== \"number\") {\n    throw Error(\"Variable '\".concat(value.value, \"' does not contain a numeric value\"));\n  }\n\n  return v;\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|number} value\r\n */\n\n\nfunction evaluateString(context, value) {\n  if (typeof value === \"string\") {\n    return value;\n  }\n\n  if (Array.isArray(value)) {\n    throw Error(\"Invalid string value: [Array(\".concat(value.length, \")]\"));\n  }\n\n  if (typeof value !== \"object\") {\n    throw Error(\"Invalid string value: [\".concat(value, \"]\"));\n  }\n\n  if (value.type !== \"string\" && value.type !== \"name\") {\n    throw Error(\"Invalid string value: [\".concat(value.value, \"]\"));\n  }\n\n  var v = value.type === \"name\" ? context[value.value] : value.value;\n\n  if (typeof v === \"undefined\") {\n    throw Error(\"Symbol not found: \" + value.value);\n  } else if (typeof v !== \"string\") {\n    throw Error(\"Variable '\".concat(value.value, \"' does not contain a numeric value\"));\n  }\n\n  return v;\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|number[]} token\r\n * @returns {number[]}\r\n */\n\n\nfunction evaluateVector(context, token) {\n  if (Array.isArray(token)) {\n    return token;\n  }\n\n  if (token.type !== \"name\") {\n    throw Error(\"Invalid vector value: [\".concat(token.value, \"]\"));\n  }\n\n  var v = context[token.value];\n\n  if (typeof v === \"undefined\") {\n    throw Error(\"Symbol not found: \" + token.value);\n  } else if (!Array.isArray(v)) {\n    throw Error(\"Variable '\".concat(token.value, \"' does not contain a vector value\"));\n  }\n\n  return v;\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|Matrix} token\r\n * @returns {Matrix}\r\n */\n\n\nfunction evaluateMatrix(context, token) {\n  if (token instanceof Matrix) {\n    return token;\n  }\n\n  if (typeof token !== \"object\" || token.type !== \"name\") {\n    throw Error(\"Invalid matrix value: [\".concat(token.value, \"]\"));\n  }\n\n  var v = context[token.value];\n\n  if (typeof v === \"undefined\") {\n    throw Error(\"Symbol not found: \" + token.value);\n  } else if (!(v instanceof Matrix)) {\n    throw Error(\"Variable '\".concat(token.value, \"' does not contain a vector value\"));\n  }\n\n  return v;\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {number|Token} t1\r\n * @param {string} op\r\n * @param {number|Token} t3\r\n */\n\n\nfunction evaluteScalarExpression(context, t1, op, t3) {\n  var v1 = evaluateNumeric(context, t1);\n  var v3 = evaluateNumeric(context, t3);\n\n  switch (op) {\n    case \"&&\":\n      {\n        return Boolean(v1 && v3);\n      }\n\n    case \"||\":\n      {\n        return Boolean(v1 || v3);\n      }\n\n    case \"&\":\n      throw Error(\"Use && to compare numbers\");\n\n    case \"|\":\n      throw Error(\"Use || to compare numbers\");\n\n    default:\n      {\n        var fn = getOperator(op);\n\n        if (fn) {\n          return fn(v1, v3);\n        }\n\n        throw Error(\"Unrecognised operator: \" + op);\n      }\n  }\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|Vector} t1\r\n * @param {string} op\r\n * @param {Token|Vector} t3\r\n */\n\n\nfunction evaluateVectorExpression(context, t1, op, t3) {\n  var v1 = evaluateVector(context, t1);\n  var v3 = evaluateVector(context, t3);\n\n  if (v1.length != v3.length) {\n    throw Error(\"Vector lengths do not match: \".concat(v1.length, \" and \").concat(v3.length));\n  }\n\n  switch (op) {\n    case \"&&\":\n      {\n        return v1.every(function (v, i) {\n          return v && v3[i];\n        });\n      }\n\n    case \"||\":\n      {\n        return v1.every(function (v, i) {\n          return v || v3[i];\n        });\n      }\n\n    default:\n      {\n        var fn = getOperator(op);\n\n        if (fn) {\n          return v1.map(function (v, i) {\n            return fn(v, v3[i]);\n          });\n        }\n\n        throw Error(\"Unrecognised operator: \" + op);\n      }\n  }\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|number} t1\r\n * @param {string} op\r\n * @param {Token|Vector} t3\r\n */\n\n\nfunction evaluateScalarVectorExpression(context, t1, op, t3) {\n  var n1 = evaluateNumeric(context, t1);\n  var v3 = evaluateVector(context, t3); // Some operations are not commutative\n\n  switch (op) {\n    case \"-\":\n      {\n        return v3.map(function (v) {\n          return n1 - v;\n        });\n      }\n\n    case \"/\":\n      {\n        return v3.map(function (v) {\n          return n1 / v;\n        });\n      }\n\n    case \"^\":\n      {\n        return v3.map(function (v) {\n          return Math.pow(n1, v);\n        });\n      }\n\n    default:\n      {\n        return evaluateVectorScalarExpression(context, v3, flipOperator(op), n1);\n      }\n  }\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|Vector} t1\r\n * @param {string} op\r\n * @param {Token|number} t3\r\n */\n\n\nfunction evaluateVectorScalarExpression(context, t1, op, t3) {\n  var v1 = evaluateVector(context, t1);\n  var v3 = evaluateNumeric(context, t3);\n\n  switch (op) {\n    case \"&&\":\n      {\n        return v1.every(function (v) {\n          return v && v3;\n        });\n      }\n\n    case \"||\":\n      {\n        return v1.every(function (v) {\n          return v || v3;\n        });\n      }\n\n    default:\n      {\n        var fn = getOperator(op);\n\n        if (fn) {\n          return v1.map(function (v) {\n            return fn(v, v3);\n          });\n        }\n\n        throw Error(\"Unrecognised operator: \" + op);\n      }\n  }\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|number} t1\r\n * @param {string} op\r\n * @param {Token|Matrix} t3\r\n */\n\n\nfunction evaluateScalarMatrixExpression(context, t1, op, t3) {\n  var n1 = evaluateNumeric(context, t1);\n  var v3 = evaluateMatrix(context, t3); // Some operations are not commutative\n\n  switch (op) {\n    case \"-\":\n      {\n        var out = new Matrix(v3.cols, v3.rows);\n\n        for (var i = 0; i < v3.cols * v3.rows; i++) {\n          out[i] = n1 - v3[i];\n        }\n\n        return out;\n      }\n\n    case \"/\":\n      {\n        var _out = new Matrix(v3.cols, v3.rows);\n\n        for (var _i = 0; _i < v3.cols * v3.rows; _i++) {\n          _out[_i] = n1 / v3[_i];\n        }\n\n        return _out;\n      }\n\n    case \"^\":\n      {\n        var _out2 = new Matrix(v3.cols, v3.rows);\n\n        for (var _i2 = 0; _i2 < v3.cols * v3.rows; _i2++) {\n          _out2[_i2] = Math.pow(n1, v3[_i2]);\n        }\n\n        return _out2;\n      }\n\n    default:\n      {\n        return evaluateMatrixScalarExpression(context, v3, flipOperator(op), n1);\n      }\n  }\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|Matrix} t1\r\n * @param {string} op\r\n * @param {Token|number} t3\r\n */\n\n\nfunction evaluateMatrixScalarExpression(context, t1, op, t3) {\n  var v1 = evaluateMatrix(context, t1);\n  var v3 = evaluateNumeric(context, t3);\n\n  switch (op) {\n    case \"&&\":\n      {\n        return v1.every(function (v) {\n          return Boolean(v && v3);\n        });\n      }\n\n    case \"||\":\n      {\n        return v1.every(function (v) {\n          return Boolean(v || v3);\n        });\n      }\n\n    default:\n      {\n        var fn = getOperator(op);\n\n        if (fn) {\n          var out = new Matrix(v1.cols, v1.rows);\n\n          for (var i = 0; i < v1.cols * v1.rows; i++) {\n            out[i] = fn(v1[i], v3);\n          }\n\n          return out;\n        }\n\n        throw Error(\"Unrecognised operator: \" + op);\n      }\n  }\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|Matrix} t1\r\n * @param {string} op\r\n * @param {Token|Vector} t3\r\n */\n\n\nfunction evaluateMatrixVectorExpression(context, t1, op, t3) {\n  var v1 = evaluateMatrix(context, t1);\n  var v3 = evaluateVector(context, t3);\n\n  if (v1.cols != v3.length) {\n    throw Error(\"Matrix cols do not match Vector length: \".concat(v1.length, \" and \").concat(v3.length));\n  }\n\n  if (op !== \"*\" && op != \"×\") {\n    throw Error(\"Only Matrix-Vector multiplication is supported\");\n  }\n\n  var out = [];\n\n  for (var i = 0; i < v1.rows; i++) {\n    out[i] = 0;\n\n    for (var j = 0; j < v1.cols; j++) {\n      out[i] += v1.getValue(i, j) * v3[j];\n    }\n  }\n\n  return out;\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|ValueType} value\r\n */\n\n\nfunction isNumeric(context, value) {\n  if (typeof value === \"number\") {\n    return true;\n  }\n\n  if (Array.isArray(value) || typeof value !== \"object\") {\n    return false;\n  }\n\n  if (value.type !== \"number\" && value.type !== \"name\") {\n    return false;\n  }\n\n  var v = value.type === \"name\" ? context[value.value] : value.value;\n\n  if (typeof v === \"undefined\") {\n    return false;\n  } else if (typeof v !== \"number\") {\n    return false;\n  }\n\n  return true;\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|ValueType} value\r\n */\n\n\nfunction isString(context, value) {\n  if (typeof value === \"string\") {\n    return true;\n  }\n\n  if (Array.isArray(value) || typeof value !== \"object\") {\n    return false;\n  }\n\n  if (value.type !== \"string\" && value.type !== \"name\") {\n    return false;\n  }\n\n  var v = value.type === \"name\" ? context[value.value] : value.value;\n\n  if (typeof v === \"undefined\") {\n    return false;\n  } else if (typeof v !== \"string\") {\n    return false;\n  }\n\n  return true;\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|ValueType} value\r\n */\n\n\nfunction isVector(context, value) {\n  if (Array.isArray(value)) {\n    return true;\n  }\n\n  if (typeof value !== \"object\") {\n    return false;\n  }\n\n  if (value.type !== \"name\") {\n    return false;\n  }\n\n  var v = context[value.value];\n\n  if (typeof v === \"undefined\") {\n    return false;\n  } else if (!Array.isArray(v)) {\n    return false;\n  }\n\n  return true;\n}\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|number[]|Matrix} token\r\n * @returns {boolean}\r\n */\n\n\nfunction isMatrix(context, token) {\n  if (token instanceof Matrix) {\n    return true;\n  }\n\n  if (typeof token !== \"object\" || token.type !== \"name\") {\n    return false;\n  }\n\n  var v = context[token.value];\n\n  if (typeof v === \"undefined\") {\n    return false;\n  } else if (!(v instanceof Matrix)) {\n    return false;\n  }\n\n  return true;\n}\n/**\r\n * @param {string} op\r\n */\n\n\nfunction getOperator(op) {\n  switch (op) {\n    case \"+\":\n      {\n        return function (a, b) {\n          return a + b;\n        };\n      }\n\n    case \"-\":\n      {\n        return function (a, b) {\n          return a - b;\n        };\n      }\n\n    case \"*\":\n    case \"×\":\n      {\n        return function (a, b) {\n          return a * b;\n        };\n      }\n\n    case \"/\":\n    case \"÷\":\n      {\n        return function (a, b) {\n          return a / b;\n        };\n      }\n\n    case \"^\":\n      {\n        return function (a, b) {\n          return Math.pow(a, b);\n        };\n      }\n\n    case \"==\":\n      {\n        return function (a, b) {\n          return a == b;\n        };\n      }\n\n    case \"!=\":\n    case \"≠\":\n      {\n        return function (a, b) {\n          return a != b;\n        };\n      }\n\n    case \"<\":\n      {\n        return function (a, b) {\n          return a < b;\n        };\n      }\n\n    case \">\":\n      {\n        return function (a, b) {\n          return a > b;\n        };\n      }\n\n    case \"<=\":\n    case \"≤\":\n    case \"⩽\":\n      {\n        return function (a, b) {\n          return a <= b;\n        };\n      }\n\n    case \">=\":\n    case \"≥\":\n    case \"⩾\":\n      {\n        return function (a, b) {\n          return a >= b;\n        };\n      }\n\n    case \"&\":\n      {\n        return function (a, b) {\n          return Boolean(a && b);\n        };\n      }\n\n    case \"|\":\n      {\n        return function (a, b) {\n          return Boolean(a || b);\n        };\n      }\n  }\n}\n/**\r\n * @param {string} op\r\n */\n\n\nfunction flipOperator(op) {\n  if (op === \">\") return \"<\";\n  if (op === \"<\") return \">\";\n  if (op === \">=\") return \"<=\";\n  if (op === \"<=\") return \">=\";\n  if (op === \"-\" || op === \"/\" || op === \"^\") throw Error(\"Operator \".concat(op, \" is not commutative\"));\n  return op;\n}","module.exports = tokenizer;\nvar GRAMMAR = {\n  string: {\n    match: /^\"([^\"]*)\"/,\n    map: function map(m) {\n      return m[1];\n    }\n  },\n  number: {\n    match: /^-?[0-9]+(?:\\.[0-9]+)?/,\n    map: function map(m) {\n      return +m[0];\n    }\n  },\n  name: {\n    match: /^[a-z][a-z0-9_.]*/i\n  },\n  operator: {\n    match: /^(<-|->|==|!=|<=|>=|&&|\\|\\||[-+*/<>&|^×÷←→≠≤≥⩽⩾])/\n  },\n  bracket: {\n    match: /^[()]/\n  },\n  index_bracket: {\n    match: /^[[\\]]/\n  },\n  range: {\n    match: /^:/\n  },\n  whitespace: {\n    match: /^\\s+/,\n    ignore: true\n  }\n};\n/** @typedef {\"string\"|\"number\"|\"name\"|\"operator\"|\"bracket\"|\"index_bracket\"|\"range\"|\"whitespace\"} TokenTypes */\n\n/**\r\n * @typedef Token\r\n * @prop {TokenTypes} type\r\n * @prop {string|number} value\r\n */\n\n/**\r\n *\r\n * @param {string} input\r\n * @returns {Token[]}\r\n */\n\nfunction tokenizer(input) {\n  var i = 0;\n  var tokens = [];\n\n  while (i < input.length) {\n    var tail = input.substr(i);\n    var match = void 0;\n\n    for (var key in GRAMMAR) {\n      var type =\n      /** @type {TokenTypes} */\n      key;\n      var g = GRAMMAR[type];\n      match = g.match.exec(tail);\n\n      if (match) {\n        if (!g.ignore) {\n          tokens.push({\n            type: type,\n            value: g.map ? g.map(match) : match[0]\n          });\n        }\n\n        i += match[0].length;\n        break;\n      }\n    }\n\n    if (!match) {\n      throw Error(\"Unrecognised Input: \" + tail.trim().substr(0, 10));\n    }\n  }\n\n  return tokens;\n}","import React from 'react';\r\n\r\nimport './Console.css';\r\n\r\nlet scrollback = 0;\r\n\r\nexport default function Console (props) {\r\n    const { history, sendCommand, performReplacement } = props;\r\n    const [ input, setInput ] = React.useState(\"\");\r\n    const ref = React.useRef();\r\n    const inputRef = React.useRef();\r\n\r\n    function handleInput (e) {\r\n        let { value } = e.target;\r\n\r\n        if (performReplacement) {\r\n            value = value\r\n                .replace(\"*\",\"×\")\r\n                .replace(\"/\",\"÷\")\r\n                .replace(\"!=\", \"≠\")\r\n                .replace(\"!=\", \"≠\")\r\n                .replace(\"<=\", \"⩽\")\r\n                .replace(\">=\", \"⩾\")\r\n                .replace(\"->\", \"→\")\r\n                .replace(\"<-\", \"←\");\r\n        }\r\n\r\n        setInput(value);\r\n    }\r\n\r\n    function handleSend () {\r\n        sendCommand(input);\r\n        setInput(\"\");\r\n        setTimeout(() => typeof ref.current !== \"undefined\" && (ref.current.scrollTop = ref.current.scrollHeight), 10);\r\n        scrollback = 0;\r\n    }\r\n\r\n    function handleScrollback (down=false) {\r\n        const inputs = history.filter(h => h.type === \"input\");\r\n\r\n        if (inputs.length === 0) return;\r\n\r\n        if (down && scrollback > 1) {\r\n            scrollback--;\r\n        }\r\n        else if (!down && scrollback < inputs.length) {\r\n            scrollback++;\r\n        }\r\n\r\n        setInput(inputs[inputs.length - scrollback].content);\r\n    }\r\n\r\n    return (\r\n        <div className=\"Console\" onClick={() => inputRef.current && document.getSelection().isCollapsed && inputRef.current.focus()}>\r\n            <div className=\"Console-historyscroller\" ref={ref}>\r\n                <ul className=\"Console-history\">\r\n                {\r\n                    history.map(line => {\r\n                        if (line.type === \"input\") {\r\n                            return <li key={line.id} className=\"line line-input\">{line.content}</li>;\r\n                        }\r\n                        return <li key={line.id} className={`line line-${line.type}`}>{line.content}</li>;\r\n                    })\r\n                }\r\n                </ul>\r\n            </div>\r\n            <div className=\"Console-inputline\">\r\n                <span className=\"Console-prompt\">></span>\r\n                <input\r\n                    value={input}\r\n                    className=\"Console-input\"\r\n                    autoFocus\r\n                    autoCapitalize=\"off\"\r\n                    ref={inputRef}\r\n                    onChange={handleInput}\r\n                    onKeyDown={e => {\r\n                        if (e.key === \"Enter\") { handleSend(); }\r\n                        else if (e.key === \"ArrowUp\") { handleScrollback(); e.preventDefault(); }\r\n                        else if (e.key === \"ArrowDown\") { handleScrollback(true); e.preventDefault(); }\r\n                    }}\r\n                />\r\n                <button onClick={handleSend}>Send</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nimport './Variables.css';\r\n\r\nexport default function Variables (props) {\r\n    const { variables, setVariables } = props;\r\n    const [ inputName, setInputName ] = React.useState(\"\");\r\n    const [ inputValue, setInputValue ] = React.useState(\"\");\r\n    const ref = React.useRef();\r\n\r\n    return (\r\n        <form onSubmit={e => {\r\n            let v;\r\n            try {\r\n                v = JSON.parse(inputValue);\r\n            } catch (e) {\r\n                v = inputValue;\r\n            }\r\n            setVariables({ ...variables, [inputName]: v });\r\n            setInputName(\"\");\r\n            setInputValue(\"\");\r\n            if (typeof ref !== \"undefined\" && typeof ref.current !== \"undefined\") ref.current.focus();\r\n            e.preventDefault();\r\n        }}>\r\n            <table className=\"Variables\">\r\n                <thead>\r\n                    <tr><th>Name</th><th>Value</th></tr>\r\n                </thead>\r\n                <tbody>\r\n                {\r\n                    Object.keys(variables).map(name => {\r\n                        return (\r\n                            <tr key={name}>\r\n                                <td>{name}</td>\r\n                                <td>{JSON.stringify(variables[name])}</td>\r\n                                <td><button type=\"button\" onClick={() => setVariables(removeVariable(variables, name)) }>x</button></td>\r\n                            </tr>\r\n                        );\r\n                    })\r\n                }\r\n                <tr>\r\n                        <td><input ref={ref} value={inputName} onChange={e => setInputName(e.target.value)} placeholder=\"Name\"/></td>\r\n                        <td><input value={inputValue} onChange={e => setInputValue(e.target.value)} placeholder=\"Value\"/></td>\r\n                        <td><button type=\"submit\">+</button></td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n    );\r\n}\r\n\r\nfunction removeVariable (variables, name) {\r\n    const { [name]: toRemove, ...keep } = variables;\r\n    return keep;\r\n}","import React from 'react';\r\n\r\nexport default function Variables (props) {\r\n    return <div></div>;\r\n}","import React from 'react';\r\nimport './App.css';\r\n\r\nimport Console from './Console';\r\nimport Variables from './Variables';\r\nimport Graph from './Graph';\r\n\r\nimport interpreter from 'r-interpreter';\r\nimport Matrix from 'r-interpreter/matrix';\r\n\r\nconst STATE_KEY = \"R_VARIABLES\";\r\n\r\nfunction App() {\r\n  const [ history , setHistory ] = React.useState([]);\r\n  const [ context , setContext ] = React.useState(retrieveState(STATE_KEY));\r\n\r\n  function setVariables (variables) {\r\n    setContext(variables);\r\n    persistState(STATE_KEY, variables);\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"App-Variables\">\r\n        <Variables variables={context} setVariables={setVariables} />\r\n      </div>\r\n      <div className=\"App-Console\">\r\n        <Console history={history} sendCommand={input => {\r\n          const newHistory = [\r\n            ...history,\r\n            { id: history.length + 1, type: \"input\", content: input }\r\n          ];\r\n          try {\r\n            const output = formatOutput(interpreter(input, context, setVariables));\r\n            let i = 2;\r\n            for (const content of output) {\r\n              newHistory.push({ id: history.length + (i++), type: \"output\", content });\r\n            }\r\n          } catch (e) {\r\n            newHistory.push({ id: history.length + 2, type: \"error\", content: e.message });\r\n          }\r\n          setHistory(newHistory);\r\n        }} performReplacement={true} />\r\n      </div>\r\n      <div className=\"App-Graph\">\r\n        <Graph />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction persistState (key, state) {\r\n  localStorage.setItem(key, JSON.stringify(state));\r\n}\r\n\r\nfunction retrieveState (key, defaultState={}) {\r\n  try {\r\n    const s = localStorage.getItem(key);\r\n    return s ? JSON.parse(s) : defaultState;\r\n  } catch (e) {\r\n    return defaultState;\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {import('./interpreter').ValueType} value\r\n * @returns {string[]}\r\n */\r\nfunction formatOutput (value) {\r\n  if (value instanceof Matrix) {\r\n    return value.toString().split(\"\\n\");\r\n  }\r\n\r\n  return [JSON.stringify(value)];\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}