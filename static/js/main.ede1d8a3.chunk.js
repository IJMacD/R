(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();t.__esModule=!0;var a=function(e){function t(r,n){var a=new e(r*n)||this;return a.__proto__=t.prototype,a.cols=r,a.rows=n,a.fill(0),a}return n(t,e),t.prototype.getValue=function(e,t){return this[e*this.rows+t]},t.prototype.setValue=function(e,t,r){this[e*this.rows+t]=r},t.prototype.add=function(e){if(e.length!==this.length)throw RangeError("Lengths must be the same "+this.length+" vs. "+e.length);for(var t=0;t<this.length;t++)this[t]+=e[t]},t.prototype.toString=function(){for(var e="",t=0;t<this.rows;t++){for(var r=0;r<this.cols;r++){e+=this[r*this.rows+t]+" "}e+="\n"}return e},t}(Float64Array);t.default=a;var o=function(e){function t(t){var r=this;return"number"===typeof t?r=e.call(this,1,t)||this:(r=e.call(this,1,t.length)||this).set(t),r}return n(t,e),t.prototype.getValue=function(e){return this[e]},t.prototype.setValue=function(e,t){this[e]=t},t.prototype.toString=function(){return this.join("\n")},t}(a);t.Vector=o,t.identity=function(e){for(var t=new a(e,e),r=0;r<e;r++)t.setValue(r,r,1);return t},t.cross=function(e,t){if(e.cols!==t.rows)throw RangeError("Matrix size mismatch. Cols("+e.cols+") must match Rows("+t.rows+")");for(var r=t.cols,n=e.rows,o=e.cols,u=new a(r,n),i=0;i<r;i++)for(var c=0;c<n;c++)for(var l=i*n+c,s=0;s<o;s++)u[l]+=e[s*n+c]*t[i*o+s];return u}},,,,,,function(e,t,r){var n=r(21),a=r(5),o=r(23);function u(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var i=r(24),c=i.evaluateExpression,l=i.evaluateVector,s=i.evaluateNumeric,f=i.isNumeric,p=(i.evaluateValue,i.isVector),v=i.isString,m=i.evaluateString,h=r(25),y=(r(2).default,r(2).identity);function d(e,t,r){if(1===r.length){if("name"===r[0].type){if(r[0].value in e)return e[r[0].value];throw Error("symbol not found: "+r[0].value)}if("number"===r[0].type||"string"===r[0].type)return r[0].value;throw Error("Invalid expression")}if(r.length>=3){var a=r[0],o=r[1];if("name"===a.type&&E(o,"left"))return void g(e,t,a.value,d(e,t,r.slice(2)));var i=r.length,h=r[i-1];if(E(r[i-2],"right")&&"name"===h.type)return void g(e,t,h.value,d(e,t,r.slice(0,i-2)))}if(3===r.length){var S=r[0],A=r[1],k=r[2];if(f(e,S)&&"range"===A.type&&f(e,k))return w(s(e,S),s(e,k));if("operator"!==A.type)throw Error("Expression not supported");var N=b(A.value);return v(e,S)&&"+"===A.value&&v(e,k)?"".concat(m(e,S)).concat(m(e,k)):v(e,S)&&("*"===A.value||"\xd7"===A.value)&&f(e,k)?m(e,S).repeat(s(e,k)):c(e,S,N,k)}if(4===r.length){var j=r[0],x=r[1],V=r[2],_=r[3];if("name"===j.type&&"bracket"===x.type&&"bracket"===_.type)switch(j.value){case"rm":if("name"!==V.type)throw Error("Argument to `rm` must be a name");return void function(e,t,r){e[r];var a=n(e,[r].map(u));t(a)}(e,t,V.value);case"identity":var C=s(e,V);return y(C)}if("name"===j.type&&"index_bracket"===x.type&&"index_bracket"===_.type){var O=l(e,j),I=s(e,V);if(I<1||I>=O.length)throw Error("Index out of range: ".concat(I,"/").concat(O.length));return O[I-1|0]}}if(5===r.length){var R=r[0],B=r[1],U=r[2],P=r[3],J=r[4];if(f(e,R)&&"range"===B.type&&f(e,U)&&"range"===P.type&&f(e,J))return w(s(e,R),s(e,U),s(e,J));if("operator"!==B.type||"operator"!==P.type)throw Error("Expression not supported");var M=b(B.value),W=b(P.value),T=c(e,R,M,U);if("boolean"===typeof T)throw Error("Bad expression");return c(e,T,W,J)}if(6===r.length){var D=r[0],z=r[1],L=r[2],F=r[3],G=r[4],H=r[5];if("name"===D.type&&p(e,D)&&"index_bracket"===z.type&&f(e,L)&&"range"===F.type&&f(e,G)&&"index_bracket"===H.type){var K=l(e,D),$=s(e,L),q=s(e,G);return $<q?K.slice($-1,q):K.slice(q-1,$).reverse()}}throw Error("Command not recognised: '".concat(command,"'"))}function g(e,t,r,n){t(o({},e,a({},r,n)))}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array(Math.floor((t-e)/r)+1).fill(0).map(function(t,n){return n*r+e})}function b(e){return e}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("operator"!==e.type)return!1;var r="<-"===e.value||"\u2190"===e.value?"left":("->"===e.value||"\u2192"===e.value)&&"right";return r&&(!t||t===r)}e.exports=function(e,t,r){if(0===e.length)return;var n=h(e);return d(t,r,n)}},,,function(e,t,r){e.exports=r(26)},,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},,,,function(e,t){function r(e,t){if("number"===typeof t)return!0;if(Array.isArray(t)||"object"!==typeof t)return!1;if("number"!==t.type&&"name"!==t.type)return!1;var r="name"===t.type?e[t.value]:t.value;return"undefined"!==typeof r&&"number"===typeof r}function n(e,t){if(Array.isArray(t))return!0;if("object"!==typeof t)return!1;if("name"!==t.type)return!1;var r=e[t.value];return"undefined"!==typeof r&&!!Array.isArray(r)}function a(e,t){if("number"===typeof t)return t;if(Array.isArray(t))throw Error("Invalid numeric value: [Array(".concat(t.length,")]"));if("object"!==typeof t)throw Error("Invalid numeric value: [".concat(t,"]"));if("number"!==t.type&&"name"!==t.type)throw Error("Invalid numeric value: [".concat(t.value,"]"));var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);if("number"!==typeof r)throw Error("Variable '".concat(t.value,"' does not contain a numeric value"));return r}function o(e,t){if(Array.isArray(t))return t;if("name"!==t.type)throw Error("Invalid vector value: [".concat(t.value,"]"));var r=e[t.value];if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);if(!Array.isArray(r))throw Error("Variable '".concat(t.value,"' does not contain a vector value"));return r}function u(e,t,r,n){var u=o(e,t),i=a(e,n);switch(r){case"+":return u.map(function(e){return e+i});case"-":return u.map(function(e){return e-i});case"*":case"\xd7":return u.map(function(e){return e*i});case"/":case"\xf7":return u.map(function(e){return e/i});case"^":return u.map(function(e){return Math.pow(e,i)});case"==":return u.map(function(e){return e==i});case"!=":case"\u2260":return u.map(function(e){return e!=i});case"<":return u.map(function(e){return e<i});case">":return u.map(function(e){return e>i});case"<=":case"\u2264":case"\u2a7d":return u.map(function(e){return e<=i});case">=":case"\u2265":case"\u2a7e":return u.map(function(e){return e>=i});case"&":return u.map(function(e){return Boolean(e&&i)});case"|":return u.map(function(e){return Boolean(e||i)});case"&&":return u.every(function(e){return e&&i});case"||":return u.every(function(e){return e||i})}throw Error("Unrecognised operator: "+r)}e.exports={evaluateValue:function(e,t){if("number"===typeof t||"string"===typeof t)return t;var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("symbol not found: "+t.value);return r},evaluateNumeric:a,evaluateVector:o,evaluateString:function(e,t){if("string"===typeof t)return t;if(Array.isArray(t))throw Error("Invalid string value: [Array(".concat(t.length,")]"));if("object"!==typeof t)throw Error("Invalid string value: [".concat(t,"]"));if("string"!==t.type&&"name"!==t.type)throw Error("Invalid string value: [".concat(t.value,"]"));var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);if("string"!==typeof r)throw Error("Variable '".concat(t.value,"' does not contain a numeric value"));return r},evaluateExpression:function(e,t,i,c){if(r(e,t)&&r(e,c))return function(e,t,r,n){var o=a(e,t),u=a(e,n);switch(r){case"+":return o+u;case"-":return o-u;case"*":case"\xd7":return o*u;case"/":case"\xf7":return o/u;case"^":return Math.pow(o,u);case"==":return o==u;case"!=":case"\u2260":return o!=u;case"<":return o<u;case">":return o>u;case"<=":case"\u2264":case"\u2a7d":return o<=u;case">=":case"\u2265":case"\u2a7e":return o>=u;case"&&":return Boolean(o&&u);case"||":return Boolean(o||u);case"&":throw Error("Use && to compare numbers");case"|":throw Error("Use || to compare numbers")}throw Error("Unrecognised operator: "+r)}(e,t,i,c);if(n(e,t)&&n(e,c))return function(e,t,r,n){var a=o(e,t),u=o(e,n);if(a.length!=u.length)throw Error("Vector lengths do not match: ".concat(a.length," and ").concat(u.length));switch(r){case"+":return a.map(function(e,t){return e+u[t]});case"-":return a.map(function(e,t){return e-u[t]});case"*":case"\xd7":return a.map(function(e,t){return e*u[t]});case"/":case"\xf7":return a.map(function(e,t){return e/u[t]});case"^":return a.map(function(e,t){return Math.pow(e,u[t])});case"==":return a.map(function(e,t){return e==u[t]});case"!=":case"\u2260":return a.map(function(e,t){return e!=u[t]});case"<":return a.map(function(e,t){return e<u[t]});case">":return a.map(function(e,t){return e>u[t]});case"<=":case"\u2264":case"\u2a7d":return a.map(function(e,t){return e<=u[t]});case">=":case"\u2265":case"\u2a7e":return a.map(function(e,t){return e>=u[t]});case"&":return a.map(function(e,t){return Boolean(e&&u[t])});case"|":return a.map(function(e,t){return Boolean(e||u[t])});case"&&":return a.every(function(e,t){return e&&u[t]});case"||":return a.every(function(e,t){return e||u[t]})}throw Error("Unrecognised operator: "+r)}(e,t,i,c);if(n(e,t)&&r(e,c))return u(e,t,i,c);if(r(e,t)&&n(e,c))return function(e,t,r,n){var i=a(e,t),c=o(e,n);switch(r){case"-":return c.map(function(e){return i-e});case"/":return c.map(function(e){return i/e});case"^":return c.map(function(e){return Math.pow(i,e)});default:return u(e,c,function(e){if(">"===e)return"<";if("<"===e)return">";if(">="===e)return"<=";if("<="===e)return">=";if("-"===e||"/"===e||"^"===e)throw Error("Operator ".concat(e," is not commutative"));return e}(r),i)}}(e,t,i,c);throw Error("Invalid expression")},isNumeric:r,isVector:n,isString:function(e,t){if("string"===typeof t)return!0;if(Array.isArray(t)||"object"!==typeof t)return!1;if("string"!==t.type&&"name"!==t.type)return!1;var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)return!1;if("string"!==typeof r)return!1;return!0}}},function(e,t){e.exports=function(e){var t=0,n=[];for(;t<e.length;){var a=e.substr(t),o=void 0;for(var u in r){var i=u,c=r[i];if(o=c.match.exec(a)){c.ignore||n.push({type:i,value:c.map?c.map(o):o[0]}),t+=o[0].length;break}}if(!o)throw Error("Unrecognised Input: "+a.trim().substr(0,10))}return n};var r={string:{match:/^"([^"]*)"/,map:function(e){return e[1]}},number:{match:/^-?[0-9]+(?:\.[0-9]+)?/,map:function(e){return+e[0]}},name:{match:/^[a-z][a-z0-9_.]*/i},operator:{match:/^(<-|->|==|!=|<=|>=|&&|\|\||[-+*\/<>&|^\xd7\xf7\u2190\u2192\u2260\u2264\u2265\u2a7d\u2a7e])/},bracket:{match:/^[()]/},index_bracket:{match:/^[[\]]/},range:{match:/^:/},whitespace:{match:/^\s+/,ignore:!0}}},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(6),u=r.n(o),i=(r(17),r(9)),c=r(1),l=(r(18),r(19),0);function s(e){var t=e.history,r=e.sendCommand,n=e.performReplacement,o=a.a.useState(""),u=Object(c.a)(o,2),i=u[0],s=u[1],f=a.a.useRef(),p=a.a.useRef();function v(){r(i),s(""),setTimeout(function(){return"undefined"!==typeof f.current&&(f.current.scrollTop=f.current.scrollHeight)},10),l=0}function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.filter(function(e){return"input"===e.type});0!==r.length&&(e&&l>1?l--:!e&&l<r.length&&l++,s(r[r.length-l].content))}return a.a.createElement("div",{className:"Console",onClick:function(){return p.current&&document.getSelection().isCollapsed&&p.current.focus()}},a.a.createElement("div",{className:"Console-historyscroller",ref:f},a.a.createElement("ul",{className:"Console-history"},t.map(function(e){return"input"===e.type?a.a.createElement("li",{key:e.id,className:"line line-input"},e.content):a.a.createElement("li",{key:e.id,className:"line line-".concat(e.type)},e.content)}))),a.a.createElement("div",{className:"Console-inputline"},a.a.createElement("span",{className:"Console-prompt"},">"),a.a.createElement("input",{value:i,className:"Console-input",autoFocus:!0,autoCapitalize:"off",ref:p,onChange:function(e){var t=e.target.value;n&&(t=t.replace("*","\xd7").replace("/","\xf7").replace("!=","\u2260").replace("!=","\u2260").replace("<=","\u2a7d").replace(">=","\u2a7e").replace("->","\u2192").replace("<-","\u2190")),s(t)},onKeyDown:function(e){"Enter"===e.key?v():"ArrowUp"===e.key?(m(),e.preventDefault()):"ArrowDown"===e.key&&(m(!0),e.preventDefault())}}),a.a.createElement("button",{onClick:v},"Send")))}var f=r(10),p=r(3),v=r(7);r(20);function m(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function h(e){var t=e.variables,r=e.setVariables,n=a.a.useState(""),o=Object(c.a)(n,2),u=o[0],i=o[1],l=a.a.useState(""),s=Object(c.a)(l,2),h=s[0],y=s[1],d=a.a.useRef();return a.a.createElement("form",{onSubmit:function(e){var n;try{n=JSON.parse(h)}catch(e){n=h}r(Object(v.a)({},t,Object(p.a)({},u,n))),i(""),y(""),"undefined"!==typeof d&&"undefined"!==typeof d.current&&d.current.focus(),e.preventDefault()}},a.a.createElement("table",{className:"Variables"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Value"))),a.a.createElement("tbody",null,Object.keys(t).map(function(e){return a.a.createElement("tr",{key:e},a.a.createElement("td",null,e),a.a.createElement("td",null,JSON.stringify(t[e])),a.a.createElement("td",null,a.a.createElement("button",{type:"button",onClick:function(){return r(function(e,t){e[t];return Object(f.a)(e,[t].map(m))}(t,e))}},"x")))}),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("input",{ref:d,value:u,onChange:function(e){return i(e.target.value)},placeholder:"Name"})),a.a.createElement("td",null,a.a.createElement("input",{value:h,onChange:function(e){return y(e.target.value)},placeholder:"Value"})),a.a.createElement("td",null,a.a.createElement("button",{type:"submit"},"+"))))))}function y(e){return a.a.createElement("div",null)}var d=r(8),g=r.n(d),w=r(2),b=r.n(w),E="R_VARIABLES";var S=function(){var e=a.a.useState([]),t=Object(c.a)(e,2),r=t[0],n=t[1],o=a.a.useState(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(n){return t}}(E)),u=Object(c.a)(o,2),l=u[0],f=u[1];function p(e){var t,r;f(e),t=E,r=e,localStorage.setItem(t,JSON.stringify(r))}return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App-Variables"},a.a.createElement(h,{variables:l,setVariables:p})),a.a.createElement("div",{className:"App-Console"},a.a.createElement(s,{history:r,sendCommand:function(e){var t,a=[].concat(Object(i.a)(r),[{id:r.length+1,type:"input",content:e}]);try{var o=(t=g()(e,l,p))instanceof b.a?t.toString().split("\n"):[JSON.stringify(t)],u=2,c=!0,s=!1,f=void 0;try{for(var v,m=o[Symbol.iterator]();!(c=(v=m.next()).done);c=!0){var h=v.value;a.push({id:r.length+u++,type:"output",content:h})}}catch(y){s=!0,f=y}finally{try{c||null==m.return||m.return()}finally{if(s)throw f}}}catch(d){a.push({id:r.length+2,type:"error",content:d.message})}n(a)},performReplacement:!0})),a.a.createElement("div",{className:"App-Graph"},a.a.createElement(y,null)))},A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}u.a.render(a.a.createElement(S,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/R",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/R","/service-worker.js");A?(function(e,t){fetch(e).then(function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):k(t,e)})}}()}],[[11,1,2]]]);
//# sourceMappingURL=main.ede1d8a3.chunk.js.map