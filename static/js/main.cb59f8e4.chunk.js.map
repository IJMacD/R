{"version":3,"sources":["Console.jsx","Variables.jsx","Graph.jsx","interpreter.js","App.js","serviceWorker.js","index.js"],"names":["scrollback","Console","props","history","sendCommand","_React$useState","React","useState","_React$useState2","Object","slicedToArray","input","setInput","ref","useRef","inputRef","handleInput","e","setTimeout","current","scrollTop","scrollHeight","handleScrollback","down","arguments","length","undefined","inputs","filter","h","type","content","react_default","a","createElement","className","onClick","document","getSelection","isCollapsed","focus","map","line","key","id","concat","value","autoFocus","onChange","target","onKeyDown","preventDefault","Variables","variables","setVariables","inputName","setInputName","_React$useState3","_React$useState4","inputValue","setInputValue","onSubmit","v","JSON","parse","objectSpread","defineProperty","keys","name","stringify","objectWithoutProperties","_toPropertyKey","removeVariable","placeholder","interpreter","command","context","setContext","tokens","i","tail","substr","match","GRAMMAR","g","exec","ignore","push","Error","tokenizer","t1","t2","t3","isNumeric","range","evaluateNumeric","assignVariable","evaluateValue","evaluateExpression","t4","rest","interpreter_toPropertyKey","evaluateVector","t5","val","string","m","number","operator","bracket","index_bracket","whitespace","token","isVector","Array","isArray","op","v1","v3","Boolean","evaluteScalarExpression","every","evaluateVectorExpression","evaluateVectorScalarExpression","start","end","step","Math","floor","fill","n","STATE_KEY","App","setHistory","defaultState","s","localStorage","getItem","retrieveState","state","setItem","style","flex","Console_Console","newHistory","toConsumableArray","output","message","padding","Variables_Variables","Graph_Variables","window","location","hostname","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.cb59f8e4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './Console.css';\r\n\r\nlet scrollback = 0;\r\n\r\nexport default function Console (props) {\r\n    const { history, sendCommand } = props;\r\n    const [ input, setInput ] = React.useState(\"\");\r\n    const ref = React.useRef();\r\n    const inputRef = React.useRef();\r\n\r\n    function handleInput (e) {\r\n        sendCommand(input);\r\n        setInput(\"\");\r\n        setTimeout(() => typeof ref.current !== \"undefined\" && (ref.current.scrollTop = ref.current.scrollHeight), 10);\r\n        scrollback = 0;\r\n    }\r\n\r\n    function handleScrollback (down=false) {\r\n        const inputs = history.filter(h => h.type === \"input\");\r\n\r\n        if (down && scrollback > 1) {\r\n            scrollback--;\r\n        }\r\n        else if (!down && scrollback < inputs.length) {\r\n            scrollback++;\r\n        }\r\n\r\n        setInput(inputs[inputs.length - scrollback].content);\r\n    }\r\n\r\n    return (\r\n        <div className=\"Console\" onClick={() => inputRef.current && document.getSelection().isCollapsed && inputRef.current.focus()}>\r\n            <div className=\"Console-historyscroller\" ref={ref}>\r\n                <ul className=\"Console-history\">\r\n                {\r\n                    history.map(line => {\r\n                        if (line.type === \"input\") {\r\n                            return <li key={line.id} className=\"line line-input\">> {line.content}</li>;\r\n                        }\r\n                        return <li key={line.id} className={`line line-${line.type}`}>{line.content}</li>;\r\n                    })\r\n                }\r\n                </ul>\r\n            </div>\r\n            <div className=\"Console-inputline\">\r\n                <span className=\"Console-prompt\">></span>\r\n                <input\r\n                    value={input}\r\n                    className=\"Console-input\"\r\n                    autoFocus\r\n                    ref={inputRef}\r\n                    onChange={e => setInput(e.target.value)}\r\n                    onKeyDown={e => {\r\n                        if (e.key === \"Enter\") { handleInput(); }\r\n                        else if (e.key === \"ArrowUp\") { handleScrollback(); e.preventDefault(); }\r\n                        else if (e.key === \"ArrowDown\") { handleScrollback(true); e.preventDefault(); }\r\n                    }}\r\n                />\r\n                <button onClick={handleInput}>Send</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\n\r\nimport './Variables.css';\r\n\r\nexport default function Variables (props) {\r\n    const { variables, setVariables } = props;\r\n    const [ inputName, setInputName ] = React.useState(\"\");\r\n    const [ inputValue, setInputValue ] = React.useState(\"\");\r\n    const ref = React.useRef();\r\n\r\n    return (\r\n        <form onSubmit={e => {\r\n            let v;\r\n            try {\r\n                v = JSON.parse(inputValue);\r\n            } catch (e) {\r\n                v = inputValue;\r\n            }\r\n            setVariables({ ...variables, [inputName]: v });\r\n            setInputName(\"\");\r\n            setInputValue(\"\");\r\n            if (typeof ref !== \"undefined\" && typeof ref.current !== \"undefined\") ref.current.focus();\r\n            e.preventDefault();\r\n        }}>\r\n            <table className=\"Variables\">\r\n                <thead>\r\n                    <tr><th>Name</th><th>Value</th></tr>\r\n                </thead>\r\n                <tbody>\r\n                {\r\n                    Object.keys(variables).map(name => {\r\n                        return (\r\n                            <tr key={name}>\r\n                                <td>{name}</td>\r\n                                <td>{JSON.stringify(variables[name])}</td>\r\n                                <td><button type=\"button\" onClick={() => setVariables(removeVariable(variables, name)) }>x</button></td>\r\n                            </tr>\r\n                        );\r\n                    })\r\n                }\r\n                <tr>\r\n                        <td><input ref={ref} value={inputName} onChange={e => setInputName(e.target.value)} placeholder=\"Name\"/></td>\r\n                        <td><input value={inputValue} onChange={e => setInputValue(e.target.value)} placeholder=\"Value\"/></td>\r\n                        <td><button type=\"submit\">+</button></td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n        </form>\r\n    );\r\n}\r\n\r\nfunction removeVariable (variables, name) {\r\n    const { [name]: toRemove, ...keep } = variables;\r\n    return keep;\r\n}","import React from 'react';\r\n\r\nexport default function Variables (props) {\r\n    return <div></div>;\r\n}","/** @typedef {{ [name: string]: any }} Context */\r\n\r\n/**\r\n *\r\n * @param {string} command\r\n * @param {Context} context\r\n * @param {(context: Context) => void} setContext\r\n * @returns {string}\r\n */\r\nexport default function interpreter (command, context, setContext) {\r\n    if (command.length === 0) {\r\n        return;\r\n    }\r\n\r\n    const tokens = tokenizer(command);\r\n\r\n    if (tokens.length === 1) {\r\n        if (tokens[0].type === \"name\") {\r\n            if (tokens[0].value in context) {\r\n                return JSON.stringify(context[tokens[0].value]);\r\n            } else {\r\n                throw Error(\"symbol not found: \" + tokens[0].value);\r\n            }\r\n        }\r\n\r\n        if (tokens[0].type === \"number\" || tokens[0].type === \"string\") {\r\n            return JSON.stringify(tokens[0].value);\r\n        }\r\n\r\n        throw Error(\"Invalid expression\");\r\n    }\r\n\r\n    if (tokens.length === 3) {\r\n        const t1 = tokens[0];\r\n        const t2 = tokens[1];\r\n        const t3 = tokens[2];\r\n\r\n        if (isNumeric(context, t1) && t2.type === \"range\" && isNumeric(context, t3)) {\r\n            return JSON.stringify(range(evaluateNumeric(context, t1), evaluateNumeric(context, t3)));\r\n        }\r\n\r\n        if (t2.type !== \"operator\")\r\n        {\r\n            throw Error(\"Expression not supported\");\r\n        }\r\n\r\n        if (t2.value === \"<-\" && t1.type === \"name\") {\r\n            assignVariable(context, setContext, t1.value, evaluateValue(context, t3));\r\n            return;\r\n        } else if (t2.value === \"->\" && t3.type === \"name\") {\r\n            assignVariable(context, setContext, t3.value, evaluateValue(context, t1));\r\n            return;\r\n        }\r\n\r\n        return JSON.stringify(evaluateExpression(context, t1, t2.value, t3));\r\n    }\r\n\r\n    if (tokens.length === 4) {\r\n        const t1 = tokens[0];\r\n        const t2 = tokens[1];\r\n        const t3 = tokens[2];\r\n        const t4 = tokens[3];\r\n\r\n        if (t1.type === \"name\" && t2.type === \"bracket\" &&\r\n            t3.type === \"name\" && t4.type === \"bracket\")\r\n        {\r\n            switch (t1.value) {\r\n                case \"rm\":\r\n                    removeVariable(context, setContext, t3.value);\r\n                    return;\r\n            }\r\n        }\r\n\r\n        if (t1.type === \"name\" && t2.type === \"index_bracket\" &&\r\n            t4.type === \"index_bracket\")\r\n        {\r\n            const v = evaluateVector(context, t1);\r\n            const i = evaluateNumeric(context, t3);\r\n\r\n            if (i < 1 || i >= v.length) {\r\n                throw Error(`Index out of range: ${i}/${v.length}`);\r\n            }\r\n\r\n            return JSON.stringify(v[i-1|0]);\r\n        }\r\n    }\r\n\r\n    if (tokens.length === 5) {\r\n        const t1 = tokens[0];\r\n        const t2 = tokens[1];\r\n        const t3 = tokens[2];\r\n        const t4 = tokens[3];\r\n        const t5 = tokens[4];\r\n\r\n        if (isNumeric(context, t1) && t2.type === \"range\" &&\r\n            isNumeric(context, t3) && t4.type === \"range\" &&\r\n            isNumeric(context, t5))\r\n        {\r\n            return JSON.stringify(range(evaluateNumeric(context, t1), evaluateNumeric(context, t3), evaluateNumeric(context, t5)));\r\n        }\r\n\r\n        if (t2.type !== \"operator\" || t4.type !== \"operator\")\r\n        {\r\n            throw Error(\"Expression not supported\");\r\n        }\r\n\r\n        if (t2.value === \"<-\" && (t4.value !== \"<-\" && t4.value !== \"->\") && t1.type === \"name\") {\r\n            const val = evaluateExpression(context, t3, t4.value, t5);\r\n            assignVariable(context, setContext, t1.value, val);\r\n            return;\r\n        } else if (t4.value === \"->\" && (t2.value !== \"<-\" && t2.value !== \"->\") && t5.type === \"name\") {\r\n            const val = evaluateExpression(context, t1, t2.value, t3);\r\n            assignVariable(context, setContext, t5.value, val);\r\n            return;\r\n        } else {\r\n            const val = evaluateExpression(context, t1, t2.value, t3);\r\n            return JSON.stringify(evaluateExpression(context, val, t4.value, t5));\r\n        }\r\n    }\r\n\r\n    throw Error(`Command not recognised: '${command}'`);\r\n}\r\n\r\nconst GRAMMAR = {\r\n    string: {\r\n        match: /^\"([^\"]*)\"/,\r\n        map: m => m[1],\r\n    },\r\n    number: {\r\n        match: /^-?[0-9]+(?:\\.[0-9]+)?/,\r\n        map: m => +m[0],\r\n    },\r\n    name: {\r\n        match: /^[a-z][a-z0-9_.]*/i,\r\n    },\r\n    operator: {\r\n        match: /^(<-|->|==|!=|<=|>=|&&|\\|\\||[-+*/<>&|])/,\r\n    },\r\n    bracket: {\r\n        match: /^[()]/,\r\n    },\r\n    index_bracket: {\r\n        match: /^[[\\]]/,\r\n    },\r\n    range: {\r\n        match: /^:/,\r\n    },\r\n    whitespace: {\r\n        match: /^\\s+/,\r\n        ignore: true,\r\n    },\r\n};\r\n\r\n/**\r\n * @typedef Token\r\n * @prop {string} type\r\n * @prop {string|number} value\r\n */\r\n\r\n/**\r\n *\r\n * @param {string} input\r\n * @returns {Token[]}\r\n */\r\nfunction tokenizer (input) {\r\n    let i = 0;\r\n    const tokens = [];\r\n\r\n    while (i < input.length) {\r\n        let tail = input.substr(i);\r\n        let match;\r\n\r\n        for (const type in GRAMMAR) {\r\n            const g = GRAMMAR[type];\r\n            match = g.match.exec(tail);\r\n            if (match) {\r\n                if (!g.ignore) {\r\n                    tokens.push({\r\n                        type,\r\n                        value: g.map ? g.map(match) : match[0],\r\n                    });\r\n                }\r\n                i += match[0].length;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (!match) {\r\n            throw Error(\"Unrecognised Input: \" + tail.substr(0, 10));\r\n        }\r\n    }\r\n\r\n    return tokens;\r\n}\r\n\r\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|number|string} token\r\n */\r\nfunction evaluateValue (context, token) {\r\n    if (typeof token === \"number\" || typeof token === \"string\") {\r\n        return token;\r\n    }\r\n\r\n    const v = token.type === \"name\" ? context[token.value] : token.value;\r\n\r\n    if (typeof v === \"undefined\") {\r\n        throw Error(\"symbol not found: \" + token.value);\r\n    }\r\n\r\n    return v;\r\n}\r\n\r\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|any} token\r\n */\r\nfunction isNumeric (context, token) {\r\n    if (typeof token === \"number\") {\r\n        return true;\r\n    }\r\n\r\n    if (token.type !== \"number\" && token.type !== \"name\") {\r\n        return false;\r\n    }\r\n\r\n    const v = token.type === \"name\" ? context[token.value] : token.value;\r\n\r\n    if (typeof v === \"undefined\") {\r\n        throw Error(\"Symbol not found: \" + token.value);\r\n    } else if (typeof v !== \"number\") {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|any} token\r\n */\r\nfunction isVector (context, token) {\r\n    if (Array.isArray(token)) {\r\n        return true;\r\n    }\r\n\r\n    if (token.type !== \"name\") {\r\n        return false;\r\n    }\r\n\r\n    const v = context[token.value];\r\n\r\n    if (typeof v === \"undefined\") {\r\n        throw Error(\"Symbol not found: \" + token.value);\r\n    } else if (!Array.isArray(v)) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|number} token\r\n */\r\nfunction evaluateNumeric (context, token) {\r\n    if (typeof token === \"number\") {\r\n        return token;\r\n    }\r\n\r\n    if (token.type !== \"number\" && token.type !== \"name\") {\r\n        throw Error(`Invalid numeric value: [${token.value}]`);\r\n    }\r\n\r\n    const v = token.type === \"name\" ? context[token.value] : token.value;\r\n\r\n    if (typeof v === \"undefined\") {\r\n        throw Error(\"Symbol not found: \" + token.value);\r\n    } else if (typeof v !== \"number\") {\r\n        throw Error(`Variable '${token.value}' does not contain a numeric value`);\r\n    }\r\n\r\n    return v;\r\n}\r\n\r\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|number[]} token\r\n * @returns {number[]}\r\n */\r\nfunction evaluateVector (context, token) {\r\n    if (Array.isArray(token)) {\r\n        return token;\r\n    }\r\n\r\n    if (token.type !== \"name\") {\r\n        throw Error(`Invalid vector value: [${token.value}]`);\r\n    }\r\n\r\n    const v = context[token.value];\r\n\r\n    if (typeof v === \"undefined\") {\r\n        throw Error(\"Symbol not found: \" + token.value);\r\n    } else if (!Array.isArray(v)) {\r\n        throw Error(`Variable '${token.value}' does not contain a vector value`);\r\n    }\r\n    return v;\r\n}\r\n\r\nfunction assignVariable (context, setContext, name, value) {\r\n    setContext({\r\n        ...context,\r\n        [name]: value,\r\n    });\r\n}\r\n\r\nfunction removeVariable (context, setContext, name) {\r\n    const { [name]: toRemove, ...rest } = context;\r\n    setContext(rest);\r\n}\r\n\r\n/**\r\n *\r\n * @param {Context} context\r\n * @param {Token|string|number} t1\r\n * @param {string} op\r\n * @param {Token|string|number} t3\r\n */\r\nfunction evaluateExpression (context, t1, op, t3) {\r\n    if (isNumeric(context, t1) && isNumeric(context, t3)) {\r\n        return evaluteScalarExpression(context, t1, op, t3);\r\n    }\r\n\r\n    if (isVector(context, t1) && isVector(context, t3)) {\r\n        return evaluateVectorExpression(context, t1, op, t3);\r\n    }\r\n\r\n    if (isVector(context, t1) && isNumeric(context, t3)) {\r\n        return evaluateVectorScalarExpression(context, t1, op, t3);\r\n    }\r\n\r\n    if (isNumeric(context, t1) && isVector(context, t3)) {\r\n        if (op === \">\") op = \"<\";\r\n        else if (op === \">\") op = \"<\";\r\n        else if (op === \">=\") op = \"<=\";\r\n        else if (op === \"<=\") op = \">=\";\r\n        return evaluateVectorScalarExpression(context, t3, op, t1);\r\n    }\r\n\r\n    throw Error(\"Invalid expression\");\r\n}\r\n\r\nfunction evaluteScalarExpression (context, t1, op, t3) {\r\n    const v1 = evaluateNumeric(context, t1);\r\n    const v3 = evaluateNumeric(context, t3);\r\n\r\n    switch (op) {\r\n        case \"+\": {\r\n            return v1 + v3;\r\n        }\r\n        case \"-\": {\r\n            return v1 - v3;\r\n        }\r\n        case \"*\": {\r\n            return v1 * v3;\r\n        }\r\n        case \"/\": {\r\n            return v1 / v3;\r\n        }\r\n        case \"==\": {\r\n            return v1 == v3;\r\n        }\r\n        case \"!=\": {\r\n            return v1 != v3;\r\n        }\r\n        case \"<\": {\r\n            return v1 < v3;\r\n        }\r\n        case \">\": {\r\n            return v1 > v3;\r\n        }\r\n        case \"<=\": {\r\n            return v1 <= v3;\r\n        }\r\n        case \">=\": {\r\n            return v1 >= v3;\r\n        }\r\n        case \"&&\": {\r\n            return Boolean(v1 && v3);\r\n        }\r\n        case \"||\": {\r\n            return Boolean(v1 || v3);\r\n        }\r\n        case \"&\":\r\n            throw Error(\"Use && to compare numbers\");\r\n        case \"|\":\r\n            throw Error(\"Use || to compare numbers\");\r\n    }\r\n\r\n    throw Error(\"Unrecognised operator: \" + op);\r\n}\r\n\r\nfunction evaluateVectorExpression (context, t1, op, t3) {\r\n    const v1 = evaluateVector(context, t1);\r\n    const v3 = evaluateVector(context, t3);\r\n\r\n    if (v1.length != v3.length) {\r\n        throw Error(`Vector lengths do not match: ${v1.length} and ${v3.length}`)\r\n    }\r\n\r\n    switch (op) {\r\n        case \"+\": {\r\n            return v1.map((v,i) => v + v3[i]);\r\n        }\r\n        case \"-\": {\r\n            return v1.map((v,i) => v - v3[i]);\r\n        }\r\n        case \"*\": {\r\n            return v1.map((v,i) => v * v3[i]);\r\n        }\r\n        case \"/\": {\r\n            return v1.map((v,i) => v / v3[i]);\r\n        }\r\n        case \"==\": {\r\n            return v1.map((v,i) => v == v3[i]);\r\n        }\r\n        case \"!=\": {\r\n            return v1.map((v,i) => v != v3[i]);\r\n        }\r\n        case \"<\": {\r\n            return v1.map((v,i) => v < v3[i]);\r\n        }\r\n        case \">\": {\r\n            return v1.map((v,i) => v > v3[i]);\r\n        }\r\n        case \"<=\": {\r\n            return v1.map((v,i) => v <= v3[i]);\r\n        }\r\n        case \">=\": {\r\n            return v1.map((v,i) => v >= v3[i]);\r\n        }\r\n        case \"&\": {\r\n            return v1.map((v,i) => Boolean(v && v3[i]));\r\n        }\r\n        case \"|\": {\r\n            return v1.map((v,i) => Boolean(v || v3[i]));\r\n        }\r\n        case \"&&\": {\r\n            return v1.every((v,i) => v && v3[i]);\r\n        }\r\n        case \"||\": {\r\n            return v1.every((v,i) => v || v3[i]);\r\n        }\r\n    }\r\n\r\n    throw Error(\"Unrecognised operator: \" + op);\r\n}\r\n\r\nfunction evaluateVectorScalarExpression (context, t1, op, t3) {\r\n    const v1 = evaluateVector(context, t1);\r\n    const v3 = evaluateNumeric(context, t3);\r\n\r\n    switch (op) {\r\n        case \"+\": {\r\n            return v1.map(v => v + v3);\r\n        }\r\n        case \"-\": {\r\n            return v1.map(v => v - v3);\r\n        }\r\n        case \"*\": {\r\n            return v1.map(v => v * v3);\r\n        }\r\n        case \"/\": {\r\n            return v1.map(v => v / v3);\r\n        }\r\n        case \"==\": {\r\n            return v1.map(v => v == v3);\r\n        }\r\n        case \"!=\": {\r\n            return v1.map(v => v != v3);\r\n        }\r\n        case \"<\": {\r\n            return v1.map(v => v < v3);\r\n        }\r\n        case \">\": {\r\n            return v1.map(v => v > v3);\r\n        }\r\n        case \"<=\": {\r\n            return v1.map(v => v <= v3);\r\n        }\r\n        case \">=\": {\r\n            return v1.map(v => v >= v3);\r\n        }\r\n        case \"&\": {\r\n            return v1.map(v => Boolean(v && v3));\r\n        }\r\n        case \"|\": {\r\n            return v1.map(v => Boolean(v || v3));\r\n        }\r\n        case \"&&\": {\r\n            return v1.every(v => v && v3);\r\n        }\r\n        case \"||\": {\r\n            return v1.every(v => v || v3);\r\n        }\r\n    }\r\n\r\n    throw Error(\"Unrecognised operator: \" + op);\r\n}\r\n\r\nfunction range (start, end, step=1) {\r\n    return Array(Math.floor((end - start)/step) + 1).fill(0).map((n,i) => (i * step) + start);\r\n}","import React from 'react';\nimport './App.css';\n\nimport Console from './Console';\nimport Variables from './Variables';\nimport Graph from './Graph';\n\nimport interpreter from './interpreter';\n\nconst STATE_KEY = \"R_VARIABLES\";\n\nfunction App() {\n  const [ history , setHistory ] = React.useState([]);\n  const [ context , setContext ] = React.useState(retrieveState(STATE_KEY));\n\n  function setVariables (variables) {\n    setContext(variables);\n    persistState(STATE_KEY, variables);\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"panel\">\n        <div style={{ flex: 4 }}>\n          <Console history={history} sendCommand={input => {\n            const newHistory = [\n              ...history,\n              { id: history.length + 1, type: \"input\", content: input }\n            ];\n            try {\n              const output = interpreter(input, context, setVariables);\n              if (typeof output !== \"undefined\") {\n                newHistory.push({ id: history.length + 2, type: \"output\", content: output });\n              }\n            } catch (e) {\n              newHistory.push({ id: history.length + 2, type: \"error\", content: e.message });\n            }\n            setHistory(newHistory);\n          }} />\n        </div>\n        <div className=\"panel panel-vertical\">\n          <div style={{padding: 2}}>\n            <Variables variables={context} setVariables={setVariables} />\n          </div>\n          <div style={{ flex: 1 }}>\n            <Graph />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction persistState (key, state) {\n  localStorage.setItem(key, JSON.stringify(state));\n}\n\nfunction retrieveState (key, defaultState={}) {\n  try {\n    const s = localStorage.getItem(key);\n    return s ? JSON.parse(s) : defaultState;\n  } catch (e) {\n    return defaultState;\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}