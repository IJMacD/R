(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports=r(18)},,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(6),u=r.n(o),i=(r(14),r(7)),c=r(1),l=(r(15),r(16),0);function s(e){var t=e.history,r=e.sendCommand,n=a.a.useState(""),o=Object(c.a)(n,2),u=o[0],i=o[1],s=a.a.useRef(),f=a.a.useRef();function m(e){r(u),i(""),setTimeout(function(){return"undefined"!==typeof s.current&&(s.current.scrollTop=s.current.scrollHeight)},10),l=0}function v(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.filter(function(e){return"input"===e.type});e&&l>1?l--:!e&&l<r.length&&l++,i(r[r.length-l].content)}return a.a.createElement("div",{className:"Console",onClick:function(){return f.current&&document.getSelection().isCollapsed&&f.current.focus()}},a.a.createElement("div",{className:"Console-historyscroller",ref:s},a.a.createElement("ul",{className:"Console-history"},t.map(function(e){return"input"===e.type?a.a.createElement("li",{key:e.id,className:"line line-input"},"> ",e.content):a.a.createElement("li",{key:e.id,className:"line line-".concat(e.type)},e.content)}))),a.a.createElement("div",{className:"Console-inputline"},a.a.createElement("span",{className:"Console-prompt"},">"),a.a.createElement("input",{value:u,className:"Console-input",autoFocus:!0,ref:f,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){"Enter"===e.key?m():"ArrowUp"===e.key?(v(),e.preventDefault()):"ArrowDown"===e.key&&(v(!0),e.preventDefault())}}),a.a.createElement("button",{onClick:m},"Send")))}var f=r(4),m=r(2),v=r(3);r(17);function p(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function y(e){var t=e.variables,r=e.setVariables,n=a.a.useState(""),o=Object(c.a)(n,2),u=o[0],i=o[1],l=a.a.useState(""),s=Object(c.a)(l,2),y=s[0],d=s[1],h=a.a.useRef();return a.a.createElement("form",{onSubmit:function(e){var n;try{n=JSON.parse(y)}catch(e){n=y}r(Object(v.a)({},t,Object(m.a)({},u,n))),i(""),d(""),"undefined"!==typeof h&&"undefined"!==typeof h.current&&h.current.focus(),e.preventDefault()}},a.a.createElement("table",{className:"Variables"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Value"))),a.a.createElement("tbody",null,Object.keys(t).map(function(e){return a.a.createElement("tr",{key:e},a.a.createElement("td",null,e),a.a.createElement("td",null,JSON.stringify(t[e])),a.a.createElement("td",null,a.a.createElement("button",{type:"button",onClick:function(){return r(function(e,t){e[t];return Object(f.a)(e,[t].map(p))}(t,e))}},"x")))}),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("input",{ref:h,value:u,onChange:function(e){return i(e.target.value)},placeholder:"Name"})),a.a.createElement("td",null,a.a.createElement("input",{value:y,onChange:function(e){return d(e.target.value)},placeholder:"Value"})),a.a.createElement("td",null,a.a.createElement("button",{type:"submit"},"+"))))))}function d(e){return a.a.createElement("div",null)}function h(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function E(e,t,r){if(0!==e.length){var n=function(e){var t=0,r=[];for(;t<e.length;){var n=e.substr(t),a=void 0;for(var o in b){var u=b[o];if(a=u.match.exec(n)){u.ignore||r.push({type:o,value:u.map?u.map(a):a[0]}),t+=a[0].length;break}}if(!a)throw Error("Unrecognised Input: "+n.substr(0,10))}return r}(e);if(1===n.length){if("name"===n[0].type){if(n[0].value in t)return JSON.stringify(t[n[0].value]);throw Error("symbol not found: "+n[0].value)}if("number"===n[0].type||"string"===n[0].type)return JSON.stringify(n[0].value);throw Error("Invalid expression")}if(3===n.length){var a=n[0],o=n[1],u=n[2];if("operator"!==o.type)throw Error("Expression not supported");return"<-"===o.value&&"name"===a.type?void k(t,r,a.value,g(t,u)):"->"===o.value&&"name"===u.type?void k(t,r,u.value,g(t,a)):JSON.stringify(j(t,a,o.value,u))}if(4===n.length){var i=n[0],c=n[1],l=n[2],s=n[3];if("name"===i.type&&"bracket"===c.type&&"name"===l.type&&"bracket"===s.type)switch(i.value){case"rm":return void function(e,t,r){e[r];var n=Object(f.a)(e,[r].map(h));t(n)}(t,r,l.value)}}if(5===n.length){var m=n[0],v=n[1],p=n[2],y=n[3],d=n[4];if("operator"!==v.type||"operator"!==y.type)throw Error("Expression not supported");if("<-"===v.value&&"<-"!==y.value&&"->"!==y.value&&"name"===m.type){var E=j(t,p,y.value,d);return void k(t,r,m.value,E)}if("->"===y.value&&"<-"!==v.value&&"->"!==v.value&&"name"===d.type){var w=j(t,m,v.value,p);return void k(t,r,d.value,w)}var S=j(t,m,v.value,p);return JSON.stringify(j(t,S,y.value,d))}throw Error("Command not recognised: '".concat(e,"'"))}}var b={string:{match:/^"([^"]*)"/,map:function(e){return e[1]}},number:{match:/^-?[0-9]+(?:\.[0-9]+)?/,map:function(e){return+e[0]}},name:{match:/^[a-z][a-z0-9_.]*/i},operator:{match:/^(<-|->|==|!=|<=|>=|&&|\|\||[-+*\/<>&|])/},bracket:{match:/^[()]/},whitespace:{match:/^\s+/,ignore:!0}};function g(e,t){if("number"===typeof t||"string"===typeof t)return t;var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("symbol not found: "+t.value);return r}function w(e,t){if("number"===typeof t)return!0;if("number"!==t.type&&"name"!==t.type)return!1;var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);return"number"===typeof r}function S(e,t){if(Array.isArray(t))return!0;if("name"!==t.type)return!1;var r=e[t.value];if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);return!!Array.isArray(r)}function N(e,t){if("number"===typeof t)return t;if("number"!==t.type&&"name"!==t.type)throw Error("Invalid numeric value: [".concat(t.value,"]"));var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);if("number"!==typeof r)throw Error("Variable '".concat(t.value,"' does not contain a numeric value"));return r}function O(e,t){if(Array.isArray(t))return t;if("name"!==t.type)throw Error("Invalid vector value: [".concat(t.value,"]"));var r=e[t.value];if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);if(!Array.isArray(r))throw Error("Variable '".concat(t.value,"' does not contain a vector value"));return r}function k(e,t,r,n){t(Object(v.a)({},e,Object(m.a)({},r,n)))}function j(e,t,r,n){if(w(e,t)&&w(e,n))return function(e,t,r,n){var a=N(e,t),o=N(e,n);switch(r){case"+":return a+o;case"-":return a-o;case"*":return a*o;case"/":return a/o;case"==":return a==o;case"!=":return a!=o;case"<":return a<o;case">":return a>o;case"<=":return a<=o;case">=":return a>=o;case"&&":return Boolean(a&&o);case"||":return Boolean(a||o);case"&":throw Error("Use && to compare numbers");case"|":throw Error("Use || to compare numbers")}throw Error("Unrecognised operator: "+r)}(e,t,r,n);if(S(e,t)&&S(e,n))return function(e,t,r,n){var a=O(e,t),o=O(e,n);if(a.length!=o.length)throw Error("Vector lengths do not match: ".concat(a.length," and ").concat(o.length));switch(r){case"+":return a.map(function(e,t){return e+o[t]});case"-":return a.map(function(e,t){return e-o[t]});case"*":return a.map(function(e,t){return e*o[t]});case"/":return a.map(function(e,t){return e/o[t]});case"==":return a.map(function(e,t){return e==o[t]});case"!=":return a.map(function(e,t){return e!=o[t]});case"<":return a.map(function(e,t){return e<o[t]});case">":return a.map(function(e,t){return e>o[t]});case"<=":return a.map(function(e,t){return e<=o[t]});case">=":return a.map(function(e,t){return e>=o[t]});case"&":return a.map(function(e,t){return Boolean(e&&o[t])});case"|":return a.map(function(e,t){return Boolean(e||o[t])});case"&&":return a.every(function(e,t){return e&&o[t]});case"||":return a.every(function(e,t){return e||o[t]})}throw Error("Unrecognised operator: "+r)}(e,t,r,n);throw Error("Invalid expression")}var C="R_VARIABLES";var A=function(){var e=a.a.useState([]),t=Object(c.a)(e,2),r=t[0],n=t[1],o=a.a.useState(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(n){return t}}(C)),u=Object(c.a)(o,2),l=u[0],f=u[1];function m(e){var t,r;f(e),t=C,r=e,localStorage.setItem(t,JSON.stringify(r))}return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"panel"},a.a.createElement("div",{style:{flex:4}},a.a.createElement(s,{history:r,sendCommand:function(e){var t=[].concat(Object(i.a)(r),[{id:r.length+1,type:"input",content:e}]);try{var a=E(e,l,m);"undefined"!==typeof a&&t.push({id:r.length+2,type:"output",content:a})}catch(o){t.push({id:r.length+2,type:"error",content:o.message})}n(t)}})),a.a.createElement("div",{className:"panel panel-vertical"},a.a.createElement("div",{style:{padding:2}},a.a.createElement(y,{variables:l,setVariables:m})),a.a.createElement("div",{style:{flex:1}},a.a.createElement(d,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.e8ece2bf.chunk.js.map