(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports=r(18)},,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(6),u=r.n(o),i=(r(14),r(7)),c=r(1),l=(r(15),r(16),0);function s(e){var t=e.history,r=e.sendCommand,n=a.a.useState(""),o=Object(c.a)(n,2),u=o[0],i=o[1],s=a.a.useRef(),f=a.a.useRef();function p(e){r(u),i(""),setTimeout(function(){return"undefined"!==typeof s.current&&(s.current.scrollTop=s.current.scrollHeight)},10),l=0}function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.filter(function(e){return"input"===e.type});e&&l>1?l--:!e&&l<r.length&&l++,i(r[r.length-l].content)}return a.a.createElement("div",{className:"Console",onClick:function(){return f.current&&document.getSelection().isCollapsed&&f.current.focus()}},a.a.createElement("div",{className:"Console-historyscroller",ref:s},a.a.createElement("ul",{className:"Console-history"},t.map(function(e){return"input"===e.type?a.a.createElement("li",{key:e.id,className:"line line-input"},"> ",e.content):a.a.createElement("li",{key:e.id,className:"line line-".concat(e.type)},e.content)}))),a.a.createElement("div",{className:"Console-inputline"},a.a.createElement("span",{className:"Console-prompt"},">"),a.a.createElement("input",{value:u,className:"Console-input",autoFocus:!0,ref:f,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){"Enter"===e.key?p():"ArrowUp"===e.key?(m(),e.preventDefault()):"ArrowDown"===e.key&&(m(!0),e.preventDefault())}}),a.a.createElement("button",{onClick:p},"Send")))}var f=r(4),p=r(2),m=r(3);r(17);function v(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function d(e){var t=e.variables,r=e.setVariables,n=a.a.useState(""),o=Object(c.a)(n,2),u=o[0],i=o[1],l=a.a.useState(""),s=Object(c.a)(l,2),d=s[0],y=s[1],h=a.a.useRef();return a.a.createElement("form",{onSubmit:function(e){var n;try{n=JSON.parse(d)}catch(e){n=d}r(Object(m.a)({},t,Object(p.a)({},u,n))),i(""),y(""),"undefined"!==typeof h&&"undefined"!==typeof h.current&&h.current.focus(),e.preventDefault()}},a.a.createElement("table",{className:"Variables"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Value"))),a.a.createElement("tbody",null,Object.keys(t).map(function(e){return a.a.createElement("tr",{key:e},a.a.createElement("td",null,e),a.a.createElement("td",null,JSON.stringify(t[e])),a.a.createElement("td",null,a.a.createElement("button",{type:"button",onClick:function(){return r(function(e,t){e[t];return Object(f.a)(e,[t].map(v))}(t,e))}},"x")))}),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("input",{ref:h,value:u,onChange:function(e){return i(e.target.value)},placeholder:"Name"})),a.a.createElement("td",null,a.a.createElement("input",{value:d,onChange:function(e){return y(e.target.value)},placeholder:"Value"})),a.a.createElement("td",null,a.a.createElement("button",{type:"submit"},"+"))))))}function y(e){return a.a.createElement("div",null)}function h(e,t){if("number"===typeof t||"string"===typeof t)return t;var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("symbol not found: "+t.value);return r}function g(e,t){if("number"===typeof t)return!0;if(Array.isArray(t)||"object"!==typeof t)return!1;if("number"!==t.type&&"name"!==t.type)return!1;var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);return"number"===typeof r}function b(e,t){if(Array.isArray(t))return!0;if("object"!==typeof t)return!1;if("name"!==t.type)return!1;var r=e[t.value];if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);return!!Array.isArray(r)}function E(e,t){if("number"===typeof t)return t;if(Array.isArray(t))throw Error("Invalid numeric value: [Array(".concat(t.length,")]"));if("object"!==typeof t)throw Error("Invalid numeric value: [".concat(t,"]"));if("number"!==t.type&&"name"!==t.type)throw Error("Invalid numeric value: [".concat(t.value,"]"));var r="name"===t.type?e[t.value]:t.value;if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);if("number"!==typeof r)throw Error("Variable '".concat(t.value,"' does not contain a numeric value"));return r}function w(e,t){if(Array.isArray(t))return t;if("name"!==t.type)throw Error("Invalid vector value: [".concat(t.value,"]"));var r=e[t.value];if("undefined"===typeof r)throw Error("Symbol not found: "+t.value);if(!Array.isArray(r))throw Error("Variable '".concat(t.value,"' does not contain a vector value"));return r}function k(e,t,r,n){if(g(e,t)&&g(e,n))return function(e,t,r,n){var a=E(e,t),o=E(e,n);switch(r){case"+":return a+o;case"-":return a-o;case"*":return a*o;case"/":return a/o;case"^":return Math.pow(a,o);case"==":return a==o;case"!=":return a!=o;case"<":return a<o;case">":return a>o;case"<=":return a<=o;case">=":return a>=o;case"&&":return Boolean(a&&o);case"||":return Boolean(a||o);case"&":throw Error("Use && to compare numbers");case"|":throw Error("Use || to compare numbers")}throw Error("Unrecognised operator: "+r)}(e,t,r,n);if(b(e,t)&&b(e,n))return function(e,t,r,n){var a=w(e,t),o=w(e,n);if(a.length!=o.length)throw Error("Vector lengths do not match: ".concat(a.length," and ").concat(o.length));switch(r){case"+":return a.map(function(e,t){return e+o[t]});case"-":return a.map(function(e,t){return e-o[t]});case"*":return a.map(function(e,t){return e*o[t]});case"/":return a.map(function(e,t){return e/o[t]});case"^":return a.map(function(e,t){return Math.pow(e,o[t])});case"==":return a.map(function(e,t){return e==o[t]});case"!=":return a.map(function(e,t){return e!=o[t]});case"<":return a.map(function(e,t){return e<o[t]});case">":return a.map(function(e,t){return e>o[t]});case"<=":return a.map(function(e,t){return e<=o[t]});case">=":return a.map(function(e,t){return e>=o[t]});case"&":return a.map(function(e,t){return Boolean(e&&o[t])});case"|":return a.map(function(e,t){return Boolean(e||o[t])});case"&&":return a.every(function(e,t){return e&&o[t]});case"||":return a.every(function(e,t){return e||o[t]})}throw Error("Unrecognised operator: "+r)}(e,t,r,n);if(b(e,t)&&g(e,n))return S(e,t,r,n);if(g(e,t)&&b(e,n))return S(e,n,r=function(e){return">"===e?"<":"<"===e?">":">="===e?"<=":"<="===e?">=":e}(r),t);throw Error("Invalid expression")}function S(e,t,r,n){var a=w(e,t),o=E(e,n);switch(r){case"+":return a.map(function(e){return e+o});case"-":return a.map(function(e){return e-o});case"*":return a.map(function(e){return e*o});case"/":return a.map(function(e){return e/o});case"^":return a.map(function(e){return Math.pow(e,o)});case"==":return a.map(function(e){return e==o});case"!=":return a.map(function(e){return e!=o});case"<":return a.map(function(e){return e<o});case">":return a.map(function(e){return e>o});case"<=":return a.map(function(e){return e<=o});case">=":return a.map(function(e){return e>=o});case"&":return a.map(function(e){return Boolean(e&&o)});case"|":return a.map(function(e){return Boolean(e||o)});case"&&":return a.every(function(e){return e&&o});case"||":return a.every(function(e){return e||o})}throw Error("Unrecognised operator: "+r)}var A={string:{match:/^"([^"]*)"/,map:function(e){return e[1]}},number:{match:/^-?[0-9]+(?:\.[0-9]+)?/,map:function(e){return+e[0]}},name:{match:/^[a-z][a-z0-9_.]*/i},operator:{match:/^(<-|->|==|!=|<=|>=|&&|\|\||[-+*\/<>&|^])/},bracket:{match:/^[()]/},index_bracket:{match:/^[[\]]/},range:{match:/^:/},whitespace:{match:/^\s+/,ignore:!0}};function N(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function j(e,t,r){if(0!==e.length){var n=function(e){for(var t=0,r=[];t<e.length;){var n=e.substr(t),a=void 0;for(var o in A){var u=o,i=A[u];if(a=i.match.exec(n)){i.ignore||r.push({type:u,value:i.map?i.map(a):a[0]}),t+=a[0].length;break}}if(!a)throw Error("Unrecognised Input: "+n.substr(0,10))}return r}(e);if(1===n.length){if("name"===n[0].type){if(n[0].value in t)return t[n[0].value];throw Error("symbol not found: "+n[0].value)}if("number"===n[0].type||"string"===n[0].type)return n[0].value;throw Error("Invalid expression")}if(3===n.length){var a=n[0],o=n[1],u=n[2];if(g(t,a)&&"range"===o.type&&g(t,u))return O(E(t,a),E(t,u));if("operator"!==o.type)throw Error("Expression not supported");var i=x(o.value);return"<-"===o.value&&"name"===a.type?void C(t,r,a.value,h(t,u)):"->"===o.value&&"name"===u.type?void C(t,r,u.value,h(t,a)):k(t,a,i,u)}if(4===n.length){var c=n[0],l=n[1],s=n[2],p=n[3];if("name"===c.type&&"bracket"===l.type&&"name"===s.type&&"bracket"===p.type)switch(c.value){case"rm":return void function(e,t,r){e[r];var n=Object(f.a)(e,[r].map(N));t(n)}(t,r,s.value)}if("name"===c.type&&"index_bracket"===l.type&&"index_bracket"===p.type){var m=w(t,c),v=E(t,s);if(v<1||v>=m.length)throw Error("Index out of range: ".concat(v,"/").concat(m.length));return m[v-1|0]}}if(5===n.length){var d=n[0],y=n[1],S=n[2],j=n[3],I=n[4];if(g(t,d)&&"range"===y.type&&g(t,S)&&"range"===j.type&&g(t,I))return O(E(t,d),E(t,S),E(t,I));if("operator"!==y.type||"operator"!==j.type)throw Error("Expression not supported");var B=x(y.value),R=x(j.value);if("<-"===B&&"<-"!==R&&"->"!==R&&"name"===d.type){var U=k(t,S,R,I);return void C(t,r,d.value,U)}if("->"===R&&"<-"!==B&&"->"!==B&&"name"===I.type){var V=k(t,d,B,S);return void C(t,r,I.value,V)}var J=k(t,d,B,S);if("boolean"===typeof J)throw Error("Bad expression");return k(t,J,R,I)}if(6===n.length){var W=n[0],_=n[1],P=n[2],T=n[3],D=n[4],M=n[5];if("name"===W.type&&b(t,W)&&"index_bracket"===_.type&&g(t,P)&&"range"===T.type&&g(t,D)&&"index_bracket"===M.type)return w(t,W).slice(E(t,P)-1,E(t,D))}throw Error("Command not recognised: '".concat(e,"'"))}}function C(e,t,r,n){t(Object(m.a)({},e,Object(p.a)({},r,n)))}function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array(Math.floor((t-e)/r)+1).fill(0).map(function(t,n){return n*r+e})}function x(e){return e}var I="R_VARIABLES";var B=function(){var e=a.a.useState([]),t=Object(c.a)(e,2),r=t[0],n=t[1],o=a.a.useState(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(n){return t}}(I)),u=Object(c.a)(o,2),l=u[0],f=u[1];function p(e){var t,r;f(e),t=I,r=e,localStorage.setItem(t,JSON.stringify(r))}return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"panel"},a.a.createElement("div",{style:{flex:4}},a.a.createElement(s,{history:r,sendCommand:function(e){var t=[].concat(Object(i.a)(r),[{id:r.length+1,type:"input",content:e}]);try{var a=JSON.stringify(j(e,l,p));"undefined"!==typeof a&&t.push({id:r.length+2,type:"output",content:a})}catch(o){t.push({id:r.length+2,type:"error",content:o.message})}n(t)}})),a.a.createElement("div",{className:"panel panel-vertical"},a.a.createElement("div",{style:{padding:2}},a.a.createElement(d,{variables:l,setVariables:p})),a.a.createElement("div",{style:{flex:1}},a.a.createElement(y,null)))))},R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}u.a.render(a.a.createElement(B,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/R",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/R","/service-worker.js");R?(function(e,t){fetch(e).then(function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):U(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):U(t,e)})}}()}],[[8,1,2]]]);
//# sourceMappingURL=main.f812d4c1.chunk.js.map